<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href="scriptsql.xsl"?>
<root xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<database includeDrop="true">QUANLYQN</database>
<procedures>
		
		<procedure owner="dbo" name="DMLOP_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LOP],
					[MALOP],
					[TENLOP],
					[ID_DAIDOI],
					[GHICHU]
				FROM
					[dbo].[DMLOP]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMLOP_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMLOP table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LOP] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LOP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LOP]'
				SET @SQL = @SQL + ' FROM [dbo].[DMLOP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LOP], O.[MALOP], O.[TENLOP], O.[ID_DAIDOI], O.[GHICHU]
				FROM
				    [dbo].[DMLOP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LOP] = PageIndex.[ID_LOP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMLOP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMLOP_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLop" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Malop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Tenlop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDaidoi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMLOP]
					(
					[MALOP]
					,[TENLOP]
					,[ID_DAIDOI]
					,[GHICHU]
					)
				VALUES
					(
					@Malop
					,@Tenlop
					,@IdDaidoi
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLop = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOP_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Malop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Tenlop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDaidoi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMLOP]
				SET
					[MALOP] = @Malop
					,[TENLOP] = @Tenlop
					,[ID_DAIDOI] = @IdDaidoi
					,[GHICHU] = @Ghichu
				WHERE
[ID_LOP] = @IdLop 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOP_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMLOP] WITH (ROWLOCK) 
				WHERE
					[ID_LOP] = @IdLop
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOP_GetByIdDaidoi" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMLOP table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDaidoi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LOP],
					[MALOP],
					[TENLOP],
					[ID_DAIDOI],
					[GHICHU]
				FROM
					[dbo].[DMLOP]
				WHERE
					[ID_DAIDOI] = @IdDaidoi
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOP_GetByIdLop" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMLOP table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LOP],
					[MALOP],
					[TENLOP],
					[ID_DAIDOI],
					[GHICHU]
				FROM
					[dbo].[DMLOP]
				WHERE
					[ID_LOP] = @IdLop
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMLOP_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMLOP table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Malop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Tenlop" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@IdDaidoi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LOP]
	, [MALOP]
	, [TENLOP]
	, [ID_DAIDOI]
	, [GHICHU]
    FROM
	[dbo].[DMLOP]
    WHERE 
	 ([ID_LOP] = @IdLop OR @IdLop is null)
	AND ([MALOP] = @Malop OR @Malop is null)
	AND ([TENLOP] = @Tenlop OR @Tenlop is null)
	AND ([ID_DAIDOI] = @IdDaidoi OR @IdDaidoi is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LOP]
	, [MALOP]
	, [TENLOP]
	, [ID_DAIDOI]
	, [GHICHU]
    FROM
	[dbo].[DMLOP]
    WHERE 
	 ([ID_LOP] = @IdLop AND @IdLop is not null)
	OR ([MALOP] = @Malop AND @Malop is not null)
	OR ([TENLOP] = @Tenlop AND @Tenlop is not null)
	OR ([ID_DAIDOI] = @IdDaidoi AND @IdDaidoi is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMLOP_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMLOP table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LOP] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LOP] )
				SELECT TOP {3} [ID_LOP]
				FROM [dbo].[DMLOP] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LOP], O.[MALOP], O.[TENLOP], O.[ID_DAIDOI], O.[GHICHU]
				FROM
				    [dbo].[DMLOP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LOP] = PageIndex.[ID_LOP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMLOP] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the ADMIN_GROUPMENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_MENU],
					[ID_GROUP],
					[VIEW],
					[ADD],
					[EDIT],
					[DELETE],
					[CONTROL]
				FROM
					[dbo].[ADMIN_GROUPMENUS]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPMENUS table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_MENU] char(50) COLLATE database_default , [ID_GROUP] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_MENU], [ID_GROUP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_MENU], [ID_GROUP]'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPMENUS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_MENU], O.[ID_GROUP], O.[VIEW], O.[ADD], O.[EDIT], O.[DELETE], O.[CONTROL]
				FROM
				    [dbo].[ADMIN_GROUPMENUS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_MENU] = PageIndex.[ID_MENU]
					AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPMENUS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the ADMIN_GROUPMENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@View" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Add" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Edit" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Delete" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Control" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[ADMIN_GROUPMENUS]
					(
					[ID_MENU]
					,[ID_GROUP]
					,[VIEW]
					,[ADD]
					,[EDIT]
					,[DELETE]
					,[CONTROL]
					)
				VALUES
					(
					@IdMenu
					,@IdGroup
					,@View
					,@Add
					,@Edit
					,@Delete
					,@Control
					)
				
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the ADMIN_GROUPMENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@OriginalIdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@OriginalIdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@View" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Add" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Edit" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Delete" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Control" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[ADMIN_GROUPMENUS]
				SET
					[ID_MENU] = @IdMenu
					,[ID_GROUP] = @IdGroup
					,[VIEW] = @View
					,[ADD] = @Add
					,[EDIT] = @Edit
					,[DELETE] = @Delete
					,[CONTROL] = @Control
				WHERE
[ID_MENU] = @OriginalIdMenu 
AND [ID_GROUP] = @OriginalIdGroup 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the ADMIN_GROUPMENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[ADMIN_GROUPMENUS] WITH (ROWLOCK) 
				WHERE
					[ID_MENU] = @IdMenu
					AND [ID_GROUP] = @IdGroup
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_GetByIdGroup" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPMENUS table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_MENU],
					[ID_GROUP],
					[VIEW],
					[ADD],
					[EDIT],
					[DELETE],
					[CONTROL]
				FROM
					[dbo].[ADMIN_GROUPMENUS]
				WHERE
					[ID_GROUP] = @IdGroup
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_GetByIdMenu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPMENUS table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_MENU],
					[ID_GROUP],
					[VIEW],
					[ADD],
					[EDIT],
					[DELETE],
					[CONTROL]
				FROM
					[dbo].[ADMIN_GROUPMENUS]
				WHERE
					[ID_MENU] = @IdMenu
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_GetByIdMenuIdGroup" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPMENUS table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_MENU],
					[ID_GROUP],
					[VIEW],
					[ADD],
					[EDIT],
					[DELETE],
					[CONTROL]
				FROM
					[dbo].[ADMIN_GROUPMENUS]
				WHERE
					[ID_MENU] = @IdMenu
					AND [ID_GROUP] = @IdGroup
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the ADMIN_GROUPMENUS table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@View" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Add" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Edit" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Delete" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Control" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_MENU]
	, [ID_GROUP]
	, [VIEW]
	, [ADD]
	, [EDIT]
	, [DELETE]
	, [CONTROL]
    FROM
	[dbo].[ADMIN_GROUPMENUS]
    WHERE 
	 ([ID_MENU] = @IdMenu OR @IdMenu is null)
	AND ([ID_GROUP] = @IdGroup OR @IdGroup is null)
	AND ([VIEW] = @View OR @View is null)
	AND ([ADD] = @Add OR @Add is null)
	AND ([EDIT] = @Edit OR @Edit is null)
	AND ([DELETE] = @Delete OR @Delete is null)
	AND ([CONTROL] = @Control OR @Control is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_MENU]
	, [ID_GROUP]
	, [VIEW]
	, [ADD]
	, [EDIT]
	, [DELETE]
	, [CONTROL]
    FROM
	[dbo].[ADMIN_GROUPMENUS]
    WHERE 
	 ([ID_MENU] = @IdMenu AND @IdMenu is not null)
	OR ([ID_GROUP] = @IdGroup AND @IdGroup is not null)
	OR ([VIEW] = @View AND @View is not null)
	OR ([ADD] = @Add AND @Add is not null)
	OR ([EDIT] = @Edit AND @Edit is not null)
	OR ([DELETE] = @Delete AND @Delete is not null)
	OR ([CONTROL] = @Control AND @Control is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="ADMIN_GROUPMENUS_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPMENUS table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_MENU] char(50) COLLATE database_default , [ID_GROUP] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_MENU], [ID_GROUP] )
				SELECT TOP {3} [ID_MENU], [ID_GROUP]
				FROM [dbo].[ADMIN_GROUPMENUS] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_MENU], O.[ID_GROUP], O.[VIEW], O.[ADD], O.[EDIT], O.[DELETE], O.[CONTROL]
				FROM
				    [dbo].[ADMIN_GROUPMENUS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_MENU] = PageIndex.[ID_MENU]
				    AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[ADMIN_GROUPMENUS] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMLOAIQUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LOAIQN],
					[LOAI_QUANNHAN],
					[GHICHU]
				FROM
					[dbo].[DMLOAIQUANNHAN]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMLOAIQUANNHAN_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMLOAIQUANNHAN table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LOAIQN] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LOAIQN])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LOAIQN]'
				SET @SQL = @SQL + ' FROM [dbo].[DMLOAIQUANNHAN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LOAIQN], O.[LOAI_QUANNHAN], O.[GHICHU]
				FROM
				    [dbo].[DMLOAIQUANNHAN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LOAIQN] = PageIndex.[ID_LOAIQN]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMLOAIQUANNHAN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMLOAIQUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiqn" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@LoaiQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMLOAIQUANNHAN]
					(
					[LOAI_QUANNHAN]
					,[GHICHU]
					)
				VALUES
					(
					@LoaiQuannhan
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLoaiqn = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMLOAIQUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiqn" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@LoaiQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMLOAIQUANNHAN]
				SET
					[LOAI_QUANNHAN] = @LoaiQuannhan
					,[GHICHU] = @Ghichu
				WHERE
[ID_LOAIQN] = @IdLoaiqn 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMLOAIQUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiqn" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMLOAIQUANNHAN] WITH (ROWLOCK) 
				WHERE
					[ID_LOAIQN] = @IdLoaiqn
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMLOAIQUANNHAN_GetByIdLoaiqn" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMLOAIQUANNHAN table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiqn" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LOAIQN],
					[LOAI_QUANNHAN],
					[GHICHU]
				FROM
					[dbo].[DMLOAIQUANNHAN]
				WHERE
					[ID_LOAIQN] = @IdLoaiqn
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMLOAIQUANNHAN table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLoaiqn" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@LoaiQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LOAIQN]
	, [LOAI_QUANNHAN]
	, [GHICHU]
    FROM
	[dbo].[DMLOAIQUANNHAN]
    WHERE 
	 ([ID_LOAIQN] = @IdLoaiqn OR @IdLoaiqn is null)
	AND ([LOAI_QUANNHAN] = @LoaiQuannhan OR @LoaiQuannhan is null)
	AND ([GHICHU] = @Ghichu OR @Ghichu is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LOAIQN]
	, [LOAI_QUANNHAN]
	, [GHICHU]
    FROM
	[dbo].[DMLOAIQUANNHAN]
    WHERE 
	 ([ID_LOAIQN] = @IdLoaiqn AND @IdLoaiqn is not null)
	OR ([LOAI_QUANNHAN] = @LoaiQuannhan AND @LoaiQuannhan is not null)
	OR ([GHICHU] = @Ghichu AND @Ghichu is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMLOAIQUANNHAN_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMLOAIQUANNHAN table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LOAIQN] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LOAIQN] )
				SELECT TOP {3} [ID_LOAIQN]
				FROM [dbo].[DMLOAIQUANNHAN] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LOAIQN], O.[LOAI_QUANNHAN], O.[GHICHU]
				FROM
				    [dbo].[DMLOAIQUANNHAN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LOAIQN] = PageIndex.[ID_LOAIQN]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMLOAIQUANNHAN] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMTONGIAO_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMTONGIAO table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_TONGIAO],
					[TONGIAO],
					[GHICHU]
				FROM
					[dbo].[DMTONGIAO]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMTONGIAO_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMTONGIAO table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_TONGIAO] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_TONGIAO])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_TONGIAO]'
				SET @SQL = @SQL + ' FROM [dbo].[DMTONGIAO]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_TONGIAO], O.[TONGIAO], O.[GHICHU]
				FROM
				    [dbo].[DMTONGIAO] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_TONGIAO] = PageIndex.[ID_TONGIAO]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMTONGIAO]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMTONGIAO_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMTONGIAO table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTongiao" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Tongiao" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMTONGIAO]
					(
					[TONGIAO]
					,[GHICHU]
					)
				VALUES
					(
					@Tongiao
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdTongiao = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTONGIAO_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMTONGIAO table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Tongiao" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMTONGIAO]
				SET
					[TONGIAO] = @Tongiao
					,[GHICHU] = @Ghichu
				WHERE
[ID_TONGIAO] = @IdTongiao 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTONGIAO_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMTONGIAO table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMTONGIAO] WITH (ROWLOCK) 
				WHERE
					[ID_TONGIAO] = @IdTongiao
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTONGIAO_GetByIdTongiao" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMTONGIAO table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_TONGIAO],
					[TONGIAO],
					[GHICHU]
				FROM
					[dbo].[DMTONGIAO]
				WHERE
					[ID_TONGIAO] = @IdTongiao
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMTONGIAO_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMTONGIAO table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Tongiao" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_TONGIAO]
	, [TONGIAO]
	, [GHICHU]
    FROM
	[dbo].[DMTONGIAO]
    WHERE 
	 ([ID_TONGIAO] = @IdTongiao OR @IdTongiao is null)
	AND ([TONGIAO] = @Tongiao OR @Tongiao is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_TONGIAO]
	, [TONGIAO]
	, [GHICHU]
    FROM
	[dbo].[DMTONGIAO]
    WHERE 
	 ([ID_TONGIAO] = @IdTongiao AND @IdTongiao is not null)
	OR ([TONGIAO] = @Tongiao AND @Tongiao is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMTONGIAO_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMTONGIAO table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_TONGIAO] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_TONGIAO] )
				SELECT TOP {3} [ID_TONGIAO]
				FROM [dbo].[DMTONGIAO] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_TONGIAO], O.[TONGIAO], O.[GHICHU]
				FROM
				    [dbo].[DMTONGIAO] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_TONGIAO] = PageIndex.[ID_TONGIAO]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMTONGIAO] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMHINHTHUCKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_HINHTHUC_KYLUAT],
					[HINHTHUC_KYLUAT],
					[GHICHU]
				FROM
					[dbo].[DMHINHTHUCKYLUAT]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMHINHTHUCKYLUAT table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_HINHTHUC_KYLUAT] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_HINHTHUC_KYLUAT])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_HINHTHUC_KYLUAT]'
				SET @SQL = @SQL + ' FROM [dbo].[DMHINHTHUCKYLUAT]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_HINHTHUC_KYLUAT], O.[HINHTHUC_KYLUAT], O.[GHICHU]
				FROM
				    [dbo].[DMHINHTHUCKYLUAT] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_HINHTHUC_KYLUAT] = PageIndex.[ID_HINHTHUC_KYLUAT]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMHINHTHUCKYLUAT]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMHINHTHUCKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@HinhthucKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMHINHTHUCKYLUAT]
					(
					[HINHTHUC_KYLUAT]
					,[GHICHU]
					)
				VALUES
					(
					@HinhthucKyluat
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdHinhthucKyluat = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMHINHTHUCKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@HinhthucKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMHINHTHUCKYLUAT]
				SET
					[HINHTHUC_KYLUAT] = @HinhthucKyluat
					,[GHICHU] = @Ghichu
				WHERE
[ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMHINHTHUCKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMHINHTHUCKYLUAT] WITH (ROWLOCK) 
				WHERE
					[ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_GetByIdHinhthucKyluat" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMHINHTHUCKYLUAT table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_HINHTHUC_KYLUAT],
					[HINHTHUC_KYLUAT],
					[GHICHU]
				FROM
					[dbo].[DMHINHTHUCKYLUAT]
				WHERE
					[ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMHINHTHUCKYLUAT table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@HinhthucKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_HINHTHUC_KYLUAT]
	, [HINHTHUC_KYLUAT]
	, [GHICHU]
    FROM
	[dbo].[DMHINHTHUCKYLUAT]
    WHERE 
	 ([ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat OR @IdHinhthucKyluat is null)
	AND ([HINHTHUC_KYLUAT] = @HinhthucKyluat OR @HinhthucKyluat is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_HINHTHUC_KYLUAT]
	, [HINHTHUC_KYLUAT]
	, [GHICHU]
    FROM
	[dbo].[DMHINHTHUCKYLUAT]
    WHERE 
	 ([ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat AND @IdHinhthucKyluat is not null)
	OR ([HINHTHUC_KYLUAT] = @HinhthucKyluat AND @HinhthucKyluat is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMHINHTHUCKYLUAT_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMHINHTHUCKYLUAT table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_HINHTHUC_KYLUAT] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_HINHTHUC_KYLUAT] )
				SELECT TOP {3} [ID_HINHTHUC_KYLUAT]
				FROM [dbo].[DMHINHTHUCKYLUAT] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_HINHTHUC_KYLUAT], O.[HINHTHUC_KYLUAT], O.[GHICHU]
				FROM
				    [dbo].[DMHINHTHUCKYLUAT] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_HINHTHUC_KYLUAT] = PageIndex.[ID_HINHTHUC_KYLUAT]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMHINHTHUCKYLUAT] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMTRUONG_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMTRUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_TRUONG],
					[TENTRUONG],
					[GHICHU]
				FROM
					[dbo].[DMTRUONG]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMTRUONG_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMTRUONG table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_TRUONG] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_TRUONG])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_TRUONG]'
				SET @SQL = @SQL + ' FROM [dbo].[DMTRUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_TRUONG], O.[TENTRUONG], O.[GHICHU]
				FROM
				    [dbo].[DMTRUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_TRUONG] = PageIndex.[ID_TRUONG]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMTRUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMTRUONG_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMTRUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTruong" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Tentruong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMTRUONG]
					(
					[TENTRUONG]
					,[GHICHU]
					)
				VALUES
					(
					@Tentruong
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdTruong = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTRUONG_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMTRUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Tentruong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMTRUONG]
				SET
					[TENTRUONG] = @Tentruong
					,[GHICHU] = @Ghichu
				WHERE
[ID_TRUONG] = @IdTruong 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTRUONG_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMTRUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMTRUONG] WITH (ROWLOCK) 
				WHERE
					[ID_TRUONG] = @IdTruong
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMTRUONG_GetByIdTruong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMTRUONG table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_TRUONG],
					[TENTRUONG],
					[GHICHU]
				FROM
					[dbo].[DMTRUONG]
				WHERE
					[ID_TRUONG] = @IdTruong
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMTRUONG_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMTRUONG table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Tentruong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_TRUONG]
	, [TENTRUONG]
	, [GHICHU]
    FROM
	[dbo].[DMTRUONG]
    WHERE 
	 ([ID_TRUONG] = @IdTruong OR @IdTruong is null)
	AND ([TENTRUONG] = @Tentruong OR @Tentruong is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_TRUONG]
	, [TENTRUONG]
	, [GHICHU]
    FROM
	[dbo].[DMTRUONG]
    WHERE 
	 ([ID_TRUONG] = @IdTruong AND @IdTruong is not null)
	OR ([TENTRUONG] = @Tentruong AND @Tentruong is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMTRUONG_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMTRUONG table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_TRUONG] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_TRUONG] )
				SELECT TOP {3} [ID_TRUONG]
				FROM [dbo].[DMTRUONG] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_TRUONG], O.[TENTRUONG], O.[GHICHU]
				FROM
				    [dbo].[DMTRUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_TRUONG] = PageIndex.[ID_TRUONG]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMTRUONG] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSTRUONGLOP_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the LSTRUONGLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LICHSUTRUONGLOP],
					[ID_QUANNHAN],
					[ID_TRUONG],
					[ID_CAPHOC],
					[NGANHHOC],
					[THOIGIAN_BATDAU],
					[THOIGIAN_KETTHUC],
					[GHICHU]
				FROM
					[dbo].[LSTRUONGLOP]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSTRUONGLOP_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSTRUONGLOP table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUTRUONGLOP] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LICHSUTRUONGLOP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LICHSUTRUONGLOP]'
				SET @SQL = @SQL + ' FROM [dbo].[LSTRUONGLOP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LICHSUTRUONGLOP], O.[ID_QUANNHAN], O.[ID_TRUONG], O.[ID_CAPHOC], O.[NGANHHOC], O.[THOIGIAN_BATDAU], O.[THOIGIAN_KETTHUC], O.[GHICHU]
				FROM
				    [dbo].[LSTRUONGLOP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LICHSUTRUONGLOP] = PageIndex.[ID_LICHSUTRUONGLOP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[LSTRUONGLOP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="LSTRUONGLOP_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the LSTRUONGLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsutruonglop" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Nganhhoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ThoigianBatdau" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@ThoigianKetthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[LSTRUONGLOP]
					(
					[ID_QUANNHAN]
					,[ID_TRUONG]
					,[ID_CAPHOC]
					,[NGANHHOC]
					,[THOIGIAN_BATDAU]
					,[THOIGIAN_KETTHUC]
					,[GHICHU]
					)
				VALUES
					(
					@IdQuannhan
					,@IdTruong
					,@IdCaphoc
					,@Nganhhoc
					,@ThoigianBatdau
					,@ThoigianKetthuc
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLichsutruonglop = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the LSTRUONGLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsutruonglop" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Nganhhoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ThoigianBatdau" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@ThoigianKetthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[LSTRUONGLOP]
				SET
					[ID_QUANNHAN] = @IdQuannhan
					,[ID_TRUONG] = @IdTruong
					,[ID_CAPHOC] = @IdCaphoc
					,[NGANHHOC] = @Nganhhoc
					,[THOIGIAN_BATDAU] = @ThoigianBatdau
					,[THOIGIAN_KETTHUC] = @ThoigianKetthuc
					,[GHICHU] = @Ghichu
				WHERE
[ID_LICHSUTRUONGLOP] = @IdLichsutruonglop 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the LSTRUONGLOP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsutruonglop" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[LSTRUONGLOP] WITH (ROWLOCK) 
				WHERE
					[ID_LICHSUTRUONGLOP] = @IdLichsutruonglop
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_GetByIdTruong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSTRUONGLOP table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUTRUONGLOP],
					[ID_QUANNHAN],
					[ID_TRUONG],
					[ID_CAPHOC],
					[NGANHHOC],
					[THOIGIAN_BATDAU],
					[THOIGIAN_KETTHUC],
					[GHICHU]
				FROM
					[dbo].[LSTRUONGLOP]
				WHERE
					[ID_TRUONG] = @IdTruong
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_GetByIdCaphoc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSTRUONGLOP table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUTRUONGLOP],
					[ID_QUANNHAN],
					[ID_TRUONG],
					[ID_CAPHOC],
					[NGANHHOC],
					[THOIGIAN_BATDAU],
					[THOIGIAN_KETTHUC],
					[GHICHU]
				FROM
					[dbo].[LSTRUONGLOP]
				WHERE
					[ID_CAPHOC] = @IdCaphoc
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSTRUONGLOP table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUTRUONGLOP],
					[ID_QUANNHAN],
					[ID_TRUONG],
					[ID_CAPHOC],
					[NGANHHOC],
					[THOIGIAN_BATDAU],
					[THOIGIAN_KETTHUC],
					[GHICHU]
				FROM
					[dbo].[LSTRUONGLOP]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_GetByIdLichsutruonglop" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSTRUONGLOP table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsutruonglop" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LICHSUTRUONGLOP],
					[ID_QUANNHAN],
					[ID_TRUONG],
					[ID_CAPHOC],
					[NGANHHOC],
					[THOIGIAN_BATDAU],
					[THOIGIAN_KETTHUC],
					[GHICHU]
				FROM
					[dbo].[LSTRUONGLOP]
				WHERE
					[ID_LICHSUTRUONGLOP] = @IdLichsutruonglop
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="LSTRUONGLOP_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the LSTRUONGLOP table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLichsutruonglop" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTruong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Nganhhoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@ThoigianBatdau" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@ThoigianKetthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LICHSUTRUONGLOP]
	, [ID_QUANNHAN]
	, [ID_TRUONG]
	, [ID_CAPHOC]
	, [NGANHHOC]
	, [THOIGIAN_BATDAU]
	, [THOIGIAN_KETTHUC]
	, [GHICHU]
    FROM
	[dbo].[LSTRUONGLOP]
    WHERE 
	 ([ID_LICHSUTRUONGLOP] = @IdLichsutruonglop OR @IdLichsutruonglop is null)
	AND ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([ID_TRUONG] = @IdTruong OR @IdTruong is null)
	AND ([ID_CAPHOC] = @IdCaphoc OR @IdCaphoc is null)
	AND ([NGANHHOC] = @Nganhhoc OR @Nganhhoc is null)
	AND ([THOIGIAN_BATDAU] = @ThoigianBatdau OR @ThoigianBatdau is null)
	AND ([THOIGIAN_KETTHUC] = @ThoigianKetthuc OR @ThoigianKetthuc is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LICHSUTRUONGLOP]
	, [ID_QUANNHAN]
	, [ID_TRUONG]
	, [ID_CAPHOC]
	, [NGANHHOC]
	, [THOIGIAN_BATDAU]
	, [THOIGIAN_KETTHUC]
	, [GHICHU]
    FROM
	[dbo].[LSTRUONGLOP]
    WHERE 
	 ([ID_LICHSUTRUONGLOP] = @IdLichsutruonglop AND @IdLichsutruonglop is not null)
	OR ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([ID_TRUONG] = @IdTruong AND @IdTruong is not null)
	OR ([ID_CAPHOC] = @IdCaphoc AND @IdCaphoc is not null)
	OR ([NGANHHOC] = @Nganhhoc AND @Nganhhoc is not null)
	OR ([THOIGIAN_BATDAU] = @ThoigianBatdau AND @ThoigianBatdau is not null)
	OR ([THOIGIAN_KETTHUC] = @ThoigianKetthuc AND @ThoigianKetthuc is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="LSTRUONGLOP_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSTRUONGLOP table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUTRUONGLOP] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LICHSUTRUONGLOP] )
				SELECT TOP {3} [ID_LICHSUTRUONGLOP]
				FROM [dbo].[LSTRUONGLOP] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LICHSUTRUONGLOP], O.[ID_QUANNHAN], O.[ID_TRUONG], O.[ID_CAPHOC], O.[NGANHHOC], O.[THOIGIAN_BATDAU], O.[THOIGIAN_KETTHUC], O.[GHICHU]
				FROM
				    [dbo].[LSTRUONGLOP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LICHSUTRUONGLOP] = PageIndex.[ID_LICHSUTRUONGLOP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[LSTRUONGLOP] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSCAPBAC_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the LSCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LICHSUCAPBAC],
					[ID_QUANNHAN],
					[ID_CAPBAC],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCAPBAC]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSCAPBAC_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSCAPBAC table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUCAPBAC] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LICHSUCAPBAC])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LICHSUCAPBAC]'
				SET @SQL = @SQL + ' FROM [dbo].[LSCAPBAC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LICHSUCAPBAC], O.[ID_QUANNHAN], O.[ID_CAPBAC], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSCAPBAC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LICHSUCAPBAC] = PageIndex.[ID_LICHSUCAPBAC]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[LSCAPBAC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="LSCAPBAC_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the LSCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsucapbac" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[LSCAPBAC]
					(
					[ID_QUANNHAN]
					,[ID_CAPBAC]
					,[NGAYNHAN]
					,[GHICHU]
					)
				VALUES
					(
					@IdQuannhan
					,@IdCapbac
					,@Ngaynhan
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLichsucapbac = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the LSCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsucapbac" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[LSCAPBAC]
				SET
					[ID_QUANNHAN] = @IdQuannhan
					,[ID_CAPBAC] = @IdCapbac
					,[NGAYNHAN] = @Ngaynhan
					,[GHICHU] = @Ghichu
				WHERE
[ID_LICHSUCAPBAC] = @IdLichsucapbac 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the LSCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsucapbac" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[LSCAPBAC] WITH (ROWLOCK) 
				WHERE
					[ID_LICHSUCAPBAC] = @IdLichsucapbac
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCAPBAC table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUCAPBAC],
					[ID_QUANNHAN],
					[ID_CAPBAC],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCAPBAC]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_GetByIdCapbac" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCAPBAC table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUCAPBAC],
					[ID_QUANNHAN],
					[ID_CAPBAC],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCAPBAC]
				WHERE
					[ID_CAPBAC] = @IdCapbac
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_GetByIdLichsucapbac" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCAPBAC table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsucapbac" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LICHSUCAPBAC],
					[ID_QUANNHAN],
					[ID_CAPBAC],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCAPBAC]
				WHERE
					[ID_LICHSUCAPBAC] = @IdLichsucapbac
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="LSCAPBAC_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the LSCAPBAC table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLichsucapbac" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LICHSUCAPBAC]
	, [ID_QUANNHAN]
	, [ID_CAPBAC]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSCAPBAC]
    WHERE 
	 ([ID_LICHSUCAPBAC] = @IdLichsucapbac OR @IdLichsucapbac is null)
	AND ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([ID_CAPBAC] = @IdCapbac OR @IdCapbac is null)
	AND ([NGAYNHAN] = @Ngaynhan OR @Ngaynhan is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LICHSUCAPBAC]
	, [ID_QUANNHAN]
	, [ID_CAPBAC]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSCAPBAC]
    WHERE 
	 ([ID_LICHSUCAPBAC] = @IdLichsucapbac AND @IdLichsucapbac is not null)
	OR ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([ID_CAPBAC] = @IdCapbac AND @IdCapbac is not null)
	OR ([NGAYNHAN] = @Ngaynhan AND @Ngaynhan is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="LSCAPBAC_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSCAPBAC table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUCAPBAC] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LICHSUCAPBAC] )
				SELECT TOP {3} [ID_LICHSUCAPBAC]
				FROM [dbo].[LSCAPBAC] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LICHSUCAPBAC], O.[ID_QUANNHAN], O.[ID_CAPBAC], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSCAPBAC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LICHSUCAPBAC] = PageIndex.[ID_LICHSUCAPBAC]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[LSCAPBAC] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSKYLUAT_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the LSKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LICHSUKYLUAT],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KYLUAT],
					[CAP_KYLUAT],
					[NGAY_QUYETDINH],
					[GHICHU]
				FROM
					[dbo].[LSKYLUAT]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSKYLUAT_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSKYLUAT table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUKYLUAT] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LICHSUKYLUAT])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LICHSUKYLUAT]'
				SET @SQL = @SQL + ' FROM [dbo].[LSKYLUAT]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LICHSUKYLUAT], O.[ID_QUANNHAN], O.[ID_HINHTHUC_KYLUAT], O.[CAP_KYLUAT], O.[NGAY_QUYETDINH], O.[GHICHU]
				FROM
				    [dbo].[LSKYLUAT] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LICHSUKYLUAT] = PageIndex.[ID_LICHSUKYLUAT]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[LSKYLUAT]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="LSKYLUAT_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the LSKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukyluat" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CapKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NgayQuyetdinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[LSKYLUAT]
					(
					[ID_QUANNHAN]
					,[ID_HINHTHUC_KYLUAT]
					,[CAP_KYLUAT]
					,[NGAY_QUYETDINH]
					,[GHICHU]
					)
				VALUES
					(
					@IdQuannhan
					,@IdHinhthucKyluat
					,@CapKyluat
					,@NgayQuyetdinh
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLichsukyluat = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the LSKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukyluat" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CapKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NgayQuyetdinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[LSKYLUAT]
				SET
					[ID_QUANNHAN] = @IdQuannhan
					,[ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat
					,[CAP_KYLUAT] = @CapKyluat
					,[NGAY_QUYETDINH] = @NgayQuyetdinh
					,[GHICHU] = @Ghichu
				WHERE
[ID_LICHSUKYLUAT] = @IdLichsukyluat 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the LSKYLUAT table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukyluat" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[LSKYLUAT] WITH (ROWLOCK) 
				WHERE
					[ID_LICHSUKYLUAT] = @IdLichsukyluat
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKYLUAT table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUKYLUAT],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KYLUAT],
					[CAP_KYLUAT],
					[NGAY_QUYETDINH],
					[GHICHU]
				FROM
					[dbo].[LSKYLUAT]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_GetByIdHinhthucKyluat" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKYLUAT table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUKYLUAT],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KYLUAT],
					[CAP_KYLUAT],
					[NGAY_QUYETDINH],
					[GHICHU]
				FROM
					[dbo].[LSKYLUAT]
				WHERE
					[ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_GetByIdLichsukyluat" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKYLUAT table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukyluat" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LICHSUKYLUAT],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KYLUAT],
					[CAP_KYLUAT],
					[NGAY_QUYETDINH],
					[GHICHU]
				FROM
					[dbo].[LSKYLUAT]
				WHERE
					[ID_LICHSUKYLUAT] = @IdLichsukyluat
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="LSKYLUAT_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the LSKYLUAT table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLichsukyluat" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdHinhthucKyluat" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@CapKyluat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@NgayQuyetdinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LICHSUKYLUAT]
	, [ID_QUANNHAN]
	, [ID_HINHTHUC_KYLUAT]
	, [CAP_KYLUAT]
	, [NGAY_QUYETDINH]
	, [GHICHU]
    FROM
	[dbo].[LSKYLUAT]
    WHERE 
	 ([ID_LICHSUKYLUAT] = @IdLichsukyluat OR @IdLichsukyluat is null)
	AND ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat OR @IdHinhthucKyluat is null)
	AND ([CAP_KYLUAT] = @CapKyluat OR @CapKyluat is null)
	AND ([NGAY_QUYETDINH] = @NgayQuyetdinh OR @NgayQuyetdinh is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LICHSUKYLUAT]
	, [ID_QUANNHAN]
	, [ID_HINHTHUC_KYLUAT]
	, [CAP_KYLUAT]
	, [NGAY_QUYETDINH]
	, [GHICHU]
    FROM
	[dbo].[LSKYLUAT]
    WHERE 
	 ([ID_LICHSUKYLUAT] = @IdLichsukyluat AND @IdLichsukyluat is not null)
	OR ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([ID_HINHTHUC_KYLUAT] = @IdHinhthucKyluat AND @IdHinhthucKyluat is not null)
	OR ([CAP_KYLUAT] = @CapKyluat AND @CapKyluat is not null)
	OR ([NGAY_QUYETDINH] = @NgayQuyetdinh AND @NgayQuyetdinh is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="LSKYLUAT_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSKYLUAT table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUKYLUAT] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LICHSUKYLUAT] )
				SELECT TOP {3} [ID_LICHSUKYLUAT]
				FROM [dbo].[LSKYLUAT] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LICHSUKYLUAT], O.[ID_QUANNHAN], O.[ID_HINHTHUC_KYLUAT], O.[CAP_KYLUAT], O.[NGAY_QUYETDINH], O.[GHICHU]
				FROM
				    [dbo].[LSKYLUAT] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LICHSUKYLUAT] = PageIndex.[ID_LICHSUKYLUAT]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[LSKYLUAT] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMHINHTHUCKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_HINHTHUC_KHENTHUONG],
					[HINHTHUC_KHENTHUONG],
					[GHICHU]
				FROM
					[dbo].[DMHINHTHUCKHENTHUONG]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMHINHTHUCKHENTHUONG table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_HINHTHUC_KHENTHUONG] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_HINHTHUC_KHENTHUONG])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_HINHTHUC_KHENTHUONG]'
				SET @SQL = @SQL + ' FROM [dbo].[DMHINHTHUCKHENTHUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_HINHTHUC_KHENTHUONG], O.[HINHTHUC_KHENTHUONG], O.[GHICHU]
				FROM
				    [dbo].[DMHINHTHUCKHENTHUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_HINHTHUC_KHENTHUONG] = PageIndex.[ID_HINHTHUC_KHENTHUONG]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMHINHTHUCKHENTHUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMHINHTHUCKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@HinhthucKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMHINHTHUCKHENTHUONG]
					(
					[HINHTHUC_KHENTHUONG]
					,[GHICHU]
					)
				VALUES
					(
					@HinhthucKhenthuong
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdHinhthucKhenthuong = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMHINHTHUCKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@HinhthucKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMHINHTHUCKHENTHUONG]
				SET
					[HINHTHUC_KHENTHUONG] = @HinhthucKhenthuong
					,[GHICHU] = @Ghichu
				WHERE
[ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMHINHTHUCKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMHINHTHUCKHENTHUONG] WITH (ROWLOCK) 
				WHERE
					[ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_GetByIdHinhthucKhenthuong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMHINHTHUCKHENTHUONG table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_HINHTHUC_KHENTHUONG],
					[HINHTHUC_KHENTHUONG],
					[GHICHU]
				FROM
					[dbo].[DMHINHTHUCKHENTHUONG]
				WHERE
					[ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMHINHTHUCKHENTHUONG table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@HinhthucKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_HINHTHUC_KHENTHUONG]
	, [HINHTHUC_KHENTHUONG]
	, [GHICHU]
    FROM
	[dbo].[DMHINHTHUCKHENTHUONG]
    WHERE 
	 ([ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong OR @IdHinhthucKhenthuong is null)
	AND ([HINHTHUC_KHENTHUONG] = @HinhthucKhenthuong OR @HinhthucKhenthuong is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_HINHTHUC_KHENTHUONG]
	, [HINHTHUC_KHENTHUONG]
	, [GHICHU]
    FROM
	[dbo].[DMHINHTHUCKHENTHUONG]
    WHERE 
	 ([ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong AND @IdHinhthucKhenthuong is not null)
	OR ([HINHTHUC_KHENTHUONG] = @HinhthucKhenthuong AND @HinhthucKhenthuong is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMHINHTHUCKHENTHUONG_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMHINHTHUCKHENTHUONG table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_HINHTHUC_KHENTHUONG] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_HINHTHUC_KHENTHUONG] )
				SELECT TOP {3} [ID_HINHTHUC_KHENTHUONG]
				FROM [dbo].[DMHINHTHUCKHENTHUONG] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_HINHTHUC_KHENTHUONG], O.[HINHTHUC_KHENTHUONG], O.[GHICHU]
				FROM
				    [dbo].[DMHINHTHUCKHENTHUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_HINHTHUC_KHENTHUONG] = PageIndex.[ID_HINHTHUC_KHENTHUONG]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMHINHTHUCKHENTHUONG] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSCHUCVU_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the LSCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LICHSUCHUCVU],
					[ID_QUANNHAN],
					[ID_CHUCVU],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCHUCVU]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSCHUCVU_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSCHUCVU table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUCHUCVU] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LICHSUCHUCVU])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LICHSUCHUCVU]'
				SET @SQL = @SQL + ' FROM [dbo].[LSCHUCVU]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LICHSUCHUCVU], O.[ID_QUANNHAN], O.[ID_CHUCVU], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSCHUCVU] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LICHSUCHUCVU] = PageIndex.[ID_LICHSUCHUCVU]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[LSCHUCVU]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="LSCHUCVU_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the LSCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsuchucvu" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[LSCHUCVU]
					(
					[ID_QUANNHAN]
					,[ID_CHUCVU]
					,[NGAYNHAN]
					,[GHICHU]
					)
				VALUES
					(
					@IdQuannhan
					,@IdChucvu
					,@Ngaynhan
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLichsuchucvu = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the LSCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsuchucvu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[LSCHUCVU]
				SET
					[ID_QUANNHAN] = @IdQuannhan
					,[ID_CHUCVU] = @IdChucvu
					,[NGAYNHAN] = @Ngaynhan
					,[GHICHU] = @Ghichu
				WHERE
[ID_LICHSUCHUCVU] = @IdLichsuchucvu 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the LSCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsuchucvu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[LSCHUCVU] WITH (ROWLOCK) 
				WHERE
					[ID_LICHSUCHUCVU] = @IdLichsuchucvu
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_GetByIdChucvu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCHUCVU table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUCHUCVU],
					[ID_QUANNHAN],
					[ID_CHUCVU],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCHUCVU]
				WHERE
					[ID_CHUCVU] = @IdChucvu
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCHUCVU table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUCHUCVU],
					[ID_QUANNHAN],
					[ID_CHUCVU],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCHUCVU]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_GetByIdLichsuchucvu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSCHUCVU table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsuchucvu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LICHSUCHUCVU],
					[ID_QUANNHAN],
					[ID_CHUCVU],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSCHUCVU]
				WHERE
					[ID_LICHSUCHUCVU] = @IdLichsuchucvu
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="LSCHUCVU_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the LSCHUCVU table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLichsuchucvu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LICHSUCHUCVU]
	, [ID_QUANNHAN]
	, [ID_CHUCVU]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSCHUCVU]
    WHERE 
	 ([ID_LICHSUCHUCVU] = @IdLichsuchucvu OR @IdLichsuchucvu is null)
	AND ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([ID_CHUCVU] = @IdChucvu OR @IdChucvu is null)
	AND ([NGAYNHAN] = @Ngaynhan OR @Ngaynhan is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LICHSUCHUCVU]
	, [ID_QUANNHAN]
	, [ID_CHUCVU]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSCHUCVU]
    WHERE 
	 ([ID_LICHSUCHUCVU] = @IdLichsuchucvu AND @IdLichsuchucvu is not null)
	OR ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([ID_CHUCVU] = @IdChucvu AND @IdChucvu is not null)
	OR ([NGAYNHAN] = @Ngaynhan AND @Ngaynhan is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="LSCHUCVU_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSCHUCVU table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUCHUCVU] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LICHSUCHUCVU] )
				SELECT TOP {3} [ID_LICHSUCHUCVU]
				FROM [dbo].[LSCHUCVU] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LICHSUCHUCVU], O.[ID_QUANNHAN], O.[ID_CHUCVU], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSCHUCVU] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LICHSUCHUCVU] = PageIndex.[ID_LICHSUCHUCVU]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[LSCHUCVU] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_USERS_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the ADMIN_USERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_USER],
					[PASSWORD],
					[FULL_NAME],
					[ACTIVE],
					[MODIFIED],
					[DESCRIPTION]
				FROM
					[dbo].[ADMIN_USERS]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_USERS_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_USERS table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_USER] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_USER])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_USER]'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_USERS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_USER], O.[PASSWORD], O.[FULL_NAME], O.[ACTIVE], O.[MODIFIED], O.[DESCRIPTION]
				FROM
				    [dbo].[ADMIN_USERS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_USER] = PageIndex.[ID_USER]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_USERS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="ADMIN_USERS_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the ADMIN_USERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Password" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[ADMIN_USERS]
					(
					[ID_USER]
					,[PASSWORD]
					,[FULL_NAME]
					,[ACTIVE]
					,[MODIFIED]
					,[DESCRIPTION]
					)
				VALUES
					(
					@IdUser
					,@Password
					,@FullName
					,@Active
					,@Modified
					,@Description
					)
				
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_USERS_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the ADMIN_USERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@OriginalIdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Password" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[ADMIN_USERS]
				SET
					[ID_USER] = @IdUser
					,[PASSWORD] = @Password
					,[FULL_NAME] = @FullName
					,[ACTIVE] = @Active
					,[MODIFIED] = @Modified
					,[DESCRIPTION] = @Description
				WHERE
[ID_USER] = @OriginalIdUser 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_USERS_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the ADMIN_USERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[ADMIN_USERS] WITH (ROWLOCK) 
				WHERE
					[ID_USER] = @IdUser
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_USERS_GetByIdUser" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_USERS table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_USER],
					[PASSWORD],
					[FULL_NAME],
					[ACTIVE],
					[MODIFIED],
					[DESCRIPTION]
				FROM
					[dbo].[ADMIN_USERS]
				WHERE
					[ID_USER] = @IdUser
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="ADMIN_USERS_GetByIdGroupFromAdminGroupusers" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records through a junction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
SELECT dbo.[ADMIN_USERS].[ID_USER]
       ,dbo.[ADMIN_USERS].[PASSWORD]
       ,dbo.[ADMIN_USERS].[FULL_NAME]
       ,dbo.[ADMIN_USERS].[ACTIVE]
       ,dbo.[ADMIN_USERS].[MODIFIED]
       ,dbo.[ADMIN_USERS].[DESCRIPTION]
  FROM dbo.[ADMIN_USERS]
 WHERE EXISTS (SELECT 1
                 FROM dbo.[ADMIN_GROUPUSERS] 
                WHERE dbo.[ADMIN_GROUPUSERS].[ID_GROUP] = @IdGroup
                  AND dbo.[ADMIN_GROUPUSERS].[ID_USER] = dbo.[ADMIN_USERS].[ID_USER]
                  )
				Select @@ROWCOUNT			
				]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_USERS_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the ADMIN_USERS table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@Password" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_USER]
	, [PASSWORD]
	, [FULL_NAME]
	, [ACTIVE]
	, [MODIFIED]
	, [DESCRIPTION]
    FROM
	[dbo].[ADMIN_USERS]
    WHERE 
	 ([ID_USER] = @IdUser OR @IdUser is null)
	AND ([FULL_NAME] = @FullName OR @FullName is null)
	AND ([ACTIVE] = @Active OR @Active is null)
	AND ([MODIFIED] = @Modified OR @Modified is null)
	AND ([DESCRIPTION] = @Description OR @Description is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_USER]
	, [PASSWORD]
	, [FULL_NAME]
	, [ACTIVE]
	, [MODIFIED]
	, [DESCRIPTION]
    FROM
	[dbo].[ADMIN_USERS]
    WHERE 
	 ([ID_USER] = @IdUser AND @IdUser is not null)
	OR ([FULL_NAME] = @FullName AND @FullName is not null)
	OR ([ACTIVE] = @Active AND @Active is not null)
	OR ([MODIFIED] = @Modified AND @Modified is not null)
	OR ([DESCRIPTION] = @Description AND @Description is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="ADMIN_USERS_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_USERS table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_USER] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_USER] )
				SELECT TOP {3} [ID_USER]
				FROM [dbo].[ADMIN_USERS] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_USER], O.[PASSWORD], O.[FULL_NAME], O.[ACTIVE], O.[MODIFIED], O.[DESCRIPTION]
				FROM
				    [dbo].[ADMIN_USERS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_USER] = PageIndex.[ID_USER]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[ADMIN_USERS] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPS_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the ADMIN_GROUPS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_GROUP],
					[GROUP_NAME],
					[ACTIVE],
					[PARENT],
					[DESCRIPTION],
					[MODIFIED]
				FROM
					[dbo].[ADMIN_GROUPS]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPS_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPS table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GROUP] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_GROUP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_GROUP]'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_GROUP], O.[GROUP_NAME], O.[ACTIVE], O.[PARENT], O.[DESCRIPTION], O.[MODIFIED]
				FROM
				    [dbo].[ADMIN_GROUPS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="ADMIN_GROUPS_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the ADMIN_GROUPS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@GroupName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[ADMIN_GROUPS]
					(
					[ID_GROUP]
					,[GROUP_NAME]
					,[ACTIVE]
					,[PARENT]
					,[DESCRIPTION]
					,[MODIFIED]
					)
				VALUES
					(
					@IdGroup
					,@GroupName
					,@Active
					,@Parent
					,@Description
					,@Modified
					)
				
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the ADMIN_GROUPS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@OriginalIdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@GroupName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[ADMIN_GROUPS]
				SET
					[ID_GROUP] = @IdGroup
					,[GROUP_NAME] = @GroupName
					,[ACTIVE] = @Active
					,[PARENT] = @Parent
					,[DESCRIPTION] = @Description
					,[MODIFIED] = @Modified
				WHERE
[ID_GROUP] = @OriginalIdGroup 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the ADMIN_GROUPS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[ADMIN_GROUPS] WITH (ROWLOCK) 
				WHERE
					[ID_GROUP] = @IdGroup
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_GetByIdGroup" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPS table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_GROUP],
					[GROUP_NAME],
					[ACTIVE],
					[PARENT],
					[DESCRIPTION],
					[MODIFIED]
				FROM
					[dbo].[ADMIN_GROUPS]
				WHERE
					[ID_GROUP] = @IdGroup
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_GetByIdUserFromAdminGroupusers" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records through a junction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
SELECT dbo.[ADMIN_GROUPS].[ID_GROUP]
       ,dbo.[ADMIN_GROUPS].[GROUP_NAME]
       ,dbo.[ADMIN_GROUPS].[ACTIVE]
       ,dbo.[ADMIN_GROUPS].[PARENT]
       ,dbo.[ADMIN_GROUPS].[DESCRIPTION]
       ,dbo.[ADMIN_GROUPS].[MODIFIED]
  FROM dbo.[ADMIN_GROUPS]
 WHERE EXISTS (SELECT 1
                 FROM dbo.[ADMIN_GROUPUSERS] 
                WHERE dbo.[ADMIN_GROUPUSERS].[ID_USER] = @IdUser
                  AND dbo.[ADMIN_GROUPUSERS].[ID_GROUP] = dbo.[ADMIN_GROUPS].[ID_GROUP]
                  )
				Select @@ROWCOUNT			
				]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_GetByIdMenuFromAdminGroupmenus" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records through a junction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
SELECT dbo.[ADMIN_GROUPS].[ID_GROUP]
       ,dbo.[ADMIN_GROUPS].[GROUP_NAME]
       ,dbo.[ADMIN_GROUPS].[ACTIVE]
       ,dbo.[ADMIN_GROUPS].[PARENT]
       ,dbo.[ADMIN_GROUPS].[DESCRIPTION]
       ,dbo.[ADMIN_GROUPS].[MODIFIED]
  FROM dbo.[ADMIN_GROUPS]
 WHERE EXISTS (SELECT 1
                 FROM dbo.[ADMIN_GROUPMENUS] 
                WHERE dbo.[ADMIN_GROUPMENUS].[ID_MENU] = @IdMenu
                  AND dbo.[ADMIN_GROUPMENUS].[ID_GROUP] = dbo.[ADMIN_GROUPS].[ID_GROUP]
                  )
				Select @@ROWCOUNT			
				]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPS_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the ADMIN_GROUPS table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@GroupName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Parent" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_GROUP]
	, [GROUP_NAME]
	, [ACTIVE]
	, [PARENT]
	, [DESCRIPTION]
	, [MODIFIED]
    FROM
	[dbo].[ADMIN_GROUPS]
    WHERE 
	 ([ID_GROUP] = @IdGroup OR @IdGroup is null)
	AND ([GROUP_NAME] = @GroupName OR @GroupName is null)
	AND ([ACTIVE] = @Active OR @Active is null)
	AND ([PARENT] = @Parent OR @Parent is null)
	AND ([DESCRIPTION] = @Description OR @Description is null)
	AND ([MODIFIED] = @Modified OR @Modified is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_GROUP]
	, [GROUP_NAME]
	, [ACTIVE]
	, [PARENT]
	, [DESCRIPTION]
	, [MODIFIED]
    FROM
	[dbo].[ADMIN_GROUPS]
    WHERE 
	 ([ID_GROUP] = @IdGroup AND @IdGroup is not null)
	OR ([GROUP_NAME] = @GroupName AND @GroupName is not null)
	OR ([ACTIVE] = @Active AND @Active is not null)
	OR ([PARENT] = @Parent AND @Parent is not null)
	OR ([DESCRIPTION] = @Description AND @Description is not null)
	OR ([MODIFIED] = @Modified AND @Modified is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="ADMIN_GROUPS_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPS table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GROUP] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_GROUP] )
				SELECT TOP {3} [ID_GROUP]
				FROM [dbo].[ADMIN_GROUPS] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_GROUP], O.[GROUP_NAME], O.[ACTIVE], O.[PARENT], O.[DESCRIPTION], O.[MODIFIED]
				FROM
				    [dbo].[ADMIN_GROUPS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[ADMIN_GROUPS] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_MENUS_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the ADMIN_MENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_MENU],
					[MENU_NAME],
					[ACTIVE],
					[PARENT],
					[IMAGE_NAME],
					[IS_CREATE_ICON],
					[DESCRIPTION],
					[CHECKED],
					[MODIFIED],
					[MENU_ORDER]
				FROM
					[dbo].[ADMIN_MENUS]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_MENUS_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_MENUS table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_MENU] char(50) COLLATE database_default  
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_MENU])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_MENU]'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_MENUS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_MENU], O.[MENU_NAME], O.[ACTIVE], O.[PARENT], O.[IMAGE_NAME], O.[IS_CREATE_ICON], O.[DESCRIPTION], O.[CHECKED], O.[MODIFIED], O.[MENU_ORDER]
				FROM
				    [dbo].[ADMIN_MENUS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_MENU] = PageIndex.[ID_MENU]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_MENUS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="ADMIN_MENUS_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the ADMIN_MENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MenuName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@ImageName" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IsCreateIcon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@SafeNameChecked" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@MenuOrder" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[ADMIN_MENUS]
					(
					[ID_MENU]
					,[MENU_NAME]
					,[ACTIVE]
					,[PARENT]
					,[IMAGE_NAME]
					,[IS_CREATE_ICON]
					,[DESCRIPTION]
					,[CHECKED]
					,[MODIFIED]
					,[MENU_ORDER]
					)
				VALUES
					(
					@IdMenu
					,@MenuName
					,@Active
					,@Parent
					,@ImageName
					,@IsCreateIcon
					,@Description
					,@SafeNameChecked
					,@Modified
					,@MenuOrder
					)
				
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_MENUS_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the ADMIN_MENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@OriginalIdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MenuName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@ImageName" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IsCreateIcon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@SafeNameChecked" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@MenuOrder" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[ADMIN_MENUS]
				SET
					[ID_MENU] = @IdMenu
					,[MENU_NAME] = @MenuName
					,[ACTIVE] = @Active
					,[PARENT] = @Parent
					,[IMAGE_NAME] = @ImageName
					,[IS_CREATE_ICON] = @IsCreateIcon
					,[DESCRIPTION] = @Description
					,[CHECKED] = @SafeNameChecked
					,[MODIFIED] = @Modified
					,[MENU_ORDER] = @MenuOrder
				WHERE
[ID_MENU] = @OriginalIdMenu 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_MENUS_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the ADMIN_MENUS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[ADMIN_MENUS] WITH (ROWLOCK) 
				WHERE
					[ID_MENU] = @IdMenu
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_MENUS_GetByIdMenu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_MENUS table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_MENU],
					[MENU_NAME],
					[ACTIVE],
					[PARENT],
					[IMAGE_NAME],
					[IS_CREATE_ICON],
					[DESCRIPTION],
					[CHECKED],
					[MODIFIED],
					[MENU_ORDER]
				FROM
					[dbo].[ADMIN_MENUS]
				WHERE
					[ID_MENU] = @IdMenu
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="ADMIN_MENUS_GetByIdGroupFromAdminGroupmenus" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records through a junction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
SELECT dbo.[ADMIN_MENUS].[ID_MENU]
       ,dbo.[ADMIN_MENUS].[MENU_NAME]
       ,dbo.[ADMIN_MENUS].[ACTIVE]
       ,dbo.[ADMIN_MENUS].[PARENT]
       ,dbo.[ADMIN_MENUS].[IMAGE_NAME]
       ,dbo.[ADMIN_MENUS].[IS_CREATE_ICON]
       ,dbo.[ADMIN_MENUS].[DESCRIPTION]
       ,dbo.[ADMIN_MENUS].[CHECKED]
       ,dbo.[ADMIN_MENUS].[MODIFIED]
       ,dbo.[ADMIN_MENUS].[MENU_ORDER]
  FROM dbo.[ADMIN_MENUS]
 WHERE EXISTS (SELECT 1
                 FROM dbo.[ADMIN_GROUPMENUS] 
                WHERE dbo.[ADMIN_GROUPMENUS].[ID_GROUP] = @IdGroup
                  AND dbo.[ADMIN_GROUPMENUS].[ID_MENU] = dbo.[ADMIN_MENUS].[ID_MENU]
                  )
				Select @@ROWCOUNT			
				]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_MENUS_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the ADMIN_MENUS table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdMenu" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MenuName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Active" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Parent" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@ImageName" type="char" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@IsCreateIcon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@SafeNameChecked" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Modified" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@MenuOrder" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_MENU]
	, [MENU_NAME]
	, [ACTIVE]
	, [PARENT]
	, [IMAGE_NAME]
	, [IS_CREATE_ICON]
	, [DESCRIPTION]
	, [CHECKED]
	, [MODIFIED]
	, [MENU_ORDER]
    FROM
	[dbo].[ADMIN_MENUS]
    WHERE 
	 ([ID_MENU] = @IdMenu OR @IdMenu is null)
	AND ([MENU_NAME] = @MenuName OR @MenuName is null)
	AND ([ACTIVE] = @Active OR @Active is null)
	AND ([PARENT] = @Parent OR @Parent is null)
	AND ([IMAGE_NAME] = @ImageName OR @ImageName is null)
	AND ([IS_CREATE_ICON] = @IsCreateIcon OR @IsCreateIcon is null)
	AND ([DESCRIPTION] = @Description OR @Description is null)
	AND ([CHECKED] = @SafeNameChecked OR @SafeNameChecked is null)
	AND ([MODIFIED] = @Modified OR @Modified is null)
	AND ([MENU_ORDER] = @MenuOrder OR @MenuOrder is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_MENU]
	, [MENU_NAME]
	, [ACTIVE]
	, [PARENT]
	, [IMAGE_NAME]
	, [IS_CREATE_ICON]
	, [DESCRIPTION]
	, [CHECKED]
	, [MODIFIED]
	, [MENU_ORDER]
    FROM
	[dbo].[ADMIN_MENUS]
    WHERE 
	 ([ID_MENU] = @IdMenu AND @IdMenu is not null)
	OR ([MENU_NAME] = @MenuName AND @MenuName is not null)
	OR ([ACTIVE] = @Active AND @Active is not null)
	OR ([PARENT] = @Parent AND @Parent is not null)
	OR ([IMAGE_NAME] = @ImageName AND @ImageName is not null)
	OR ([IS_CREATE_ICON] = @IsCreateIcon AND @IsCreateIcon is not null)
	OR ([DESCRIPTION] = @Description AND @Description is not null)
	OR ([CHECKED] = @SafeNameChecked AND @SafeNameChecked is not null)
	OR ([MODIFIED] = @Modified AND @Modified is not null)
	OR ([MENU_ORDER] = @MenuOrder AND @MenuOrder is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="ADMIN_MENUS_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_MENUS table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_MENU] char(50) COLLATE database_default  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_MENU] )
				SELECT TOP {3} [ID_MENU]
				FROM [dbo].[ADMIN_MENUS] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_MENU], O.[MENU_NAME], O.[ACTIVE], O.[PARENT], O.[IMAGE_NAME], O.[IS_CREATE_ICON], O.[DESCRIPTION], O.[CHECKED], O.[MODIFIED], O.[MENU_ORDER]
				FROM
				    [dbo].[ADMIN_MENUS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_MENU] = PageIndex.[ID_MENU]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[ADMIN_MENUS] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMGIOITINH_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMGIOITINH table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_GIOITINH],
					[GIOITINH],
					[GHICHU]
				FROM
					[dbo].[DMGIOITINH]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMGIOITINH_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMGIOITINH table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GIOITINH] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_GIOITINH])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_GIOITINH]'
				SET @SQL = @SQL + ' FROM [dbo].[DMGIOITINH]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_GIOITINH], O.[GIOITINH], O.[GHICHU]
				FROM
				    [dbo].[DMGIOITINH] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_GIOITINH] = PageIndex.[ID_GIOITINH]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMGIOITINH]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMGIOITINH_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMGIOITINH table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGioitinh" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Gioitinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMGIOITINH]
					(
					[GIOITINH]
					,[GHICHU]
					)
				VALUES
					(
					@Gioitinh
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdGioitinh = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMGIOITINH_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMGIOITINH table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Gioitinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMGIOITINH]
				SET
					[GIOITINH] = @Gioitinh
					,[GHICHU] = @Ghichu
				WHERE
[ID_GIOITINH] = @IdGioitinh 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMGIOITINH_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMGIOITINH table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMGIOITINH] WITH (ROWLOCK) 
				WHERE
					[ID_GIOITINH] = @IdGioitinh
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMGIOITINH_GetByIdGioitinh" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMGIOITINH table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_GIOITINH],
					[GIOITINH],
					[GHICHU]
				FROM
					[dbo].[DMGIOITINH]
				WHERE
					[ID_GIOITINH] = @IdGioitinh
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMGIOITINH_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMGIOITINH table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Gioitinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_GIOITINH]
	, [GIOITINH]
	, [GHICHU]
    FROM
	[dbo].[DMGIOITINH]
    WHERE 
	 ([ID_GIOITINH] = @IdGioitinh OR @IdGioitinh is null)
	AND ([GIOITINH] = @Gioitinh OR @Gioitinh is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_GIOITINH]
	, [GIOITINH]
	, [GHICHU]
    FROM
	[dbo].[DMGIOITINH]
    WHERE 
	 ([ID_GIOITINH] = @IdGioitinh AND @IdGioitinh is not null)
	OR ([GIOITINH] = @Gioitinh AND @Gioitinh is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMGIOITINH_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMGIOITINH table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GIOITINH] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_GIOITINH] )
				SELECT TOP {3} [ID_GIOITINH]
				FROM [dbo].[DMGIOITINH] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_GIOITINH], O.[GIOITINH], O.[GHICHU]
				FROM
				    [dbo].[DMGIOITINH] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_GIOITINH] = PageIndex.[ID_GIOITINH]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMGIOITINH] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the ADMIN_GROUPUSERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_GROUP],
					[ID_USER]
				FROM
					[dbo].[ADMIN_GROUPUSERS]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPUSERS table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GROUP] char(15) COLLATE database_default , [ID_USER] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_GROUP], [ID_USER])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_GROUP], [ID_USER]'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPUSERS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_GROUP], O.[ID_USER]
				FROM
				    [dbo].[ADMIN_GROUPUSERS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
					AND O.[ID_USER] = PageIndex.[ID_USER]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[ADMIN_GROUPUSERS]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the ADMIN_GROUPUSERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[ADMIN_GROUPUSERS]
					(
					[ID_GROUP]
					,[ID_USER]
					)
				VALUES
					(
					@IdGroup
					,@IdUser
					)
				
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the ADMIN_GROUPUSERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@OriginalIdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@OriginalIdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[ADMIN_GROUPUSERS]
				SET
					[ID_GROUP] = @IdGroup
					,[ID_USER] = @IdUser
				WHERE
[ID_GROUP] = @OriginalIdGroup 
AND [ID_USER] = @OriginalIdUser 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the ADMIN_GROUPUSERS table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[ADMIN_GROUPUSERS] WITH (ROWLOCK) 
				WHERE
					[ID_GROUP] = @IdGroup
					AND [ID_USER] = @IdUser
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_GetByIdGroup" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPUSERS table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_GROUP],
					[ID_USER]
				FROM
					[dbo].[ADMIN_GROUPUSERS]
				WHERE
					[ID_GROUP] = @IdGroup
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_GetByIdUser" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPUSERS table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_GROUP],
					[ID_USER]
				FROM
					[dbo].[ADMIN_GROUPUSERS]
				WHERE
					[ID_USER] = @IdUser
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_GetByIdGroupIdUser" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the ADMIN_GROUPUSERS table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_GROUP],
					[ID_USER]
				FROM
					[dbo].[ADMIN_GROUPUSERS]
				WHERE
					[ID_GROUP] = @IdGroup
					AND [ID_USER] = @IdUser
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the ADMIN_GROUPUSERS table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdGroup" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@IdUser" type="char" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_GROUP]
	, [ID_USER]
    FROM
	[dbo].[ADMIN_GROUPUSERS]
    WHERE 
	 ([ID_GROUP] = @IdGroup OR @IdGroup is null)
	AND ([ID_USER] = @IdUser OR @IdUser is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_GROUP]
	, [ID_USER]
    FROM
	[dbo].[ADMIN_GROUPUSERS]
    WHERE 
	 ([ID_GROUP] = @IdGroup AND @IdGroup is not null)
	OR ([ID_USER] = @IdUser AND @IdUser is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="ADMIN_GROUPUSERS_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the ADMIN_GROUPUSERS table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_GROUP] char(15) COLLATE database_default , [ID_USER] char(15) COLLATE database_default  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_GROUP], [ID_USER] )
				SELECT TOP {3} [ID_GROUP], [ID_USER]
				FROM [dbo].[ADMIN_GROUPUSERS] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_GROUP], O.[ID_USER]
				FROM
				    [dbo].[ADMIN_GROUPUSERS] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_GROUP] = PageIndex.[ID_GROUP]
				    AND O.[ID_USER] = PageIndex.[ID_USER]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[ADMIN_GROUPUSERS] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCAPHOC_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMCAPHOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_CAPHOC],
					[CAPHOC],
					[GHICHU]
				FROM
					[dbo].[DMCAPHOC]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCAPHOC_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCAPHOC table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CAPHOC] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_CAPHOC])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_CAPHOC]'
				SET @SQL = @SQL + ' FROM [dbo].[DMCAPHOC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_CAPHOC], O.[CAPHOC], O.[GHICHU]
				FROM
				    [dbo].[DMCAPHOC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_CAPHOC] = PageIndex.[ID_CAPHOC]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMCAPHOC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMCAPHOC_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMCAPHOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCaphoc" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Caphoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMCAPHOC]
					(
					[CAPHOC]
					,[GHICHU]
					)
				VALUES
					(
					@Caphoc
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdCaphoc = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPHOC_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMCAPHOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Caphoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMCAPHOC]
				SET
					[CAPHOC] = @Caphoc
					,[GHICHU] = @Ghichu
				WHERE
[ID_CAPHOC] = @IdCaphoc 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPHOC_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMCAPHOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMCAPHOC] WITH (ROWLOCK) 
				WHERE
					[ID_CAPHOC] = @IdCaphoc
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPHOC_GetByIdCaphoc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMCAPHOC table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_CAPHOC],
					[CAPHOC],
					[GHICHU]
				FROM
					[dbo].[DMCAPHOC]
				WHERE
					[ID_CAPHOC] = @IdCaphoc
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMCAPHOC_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMCAPHOC table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCaphoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Caphoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_CAPHOC]
	, [CAPHOC]
	, [GHICHU]
    FROM
	[dbo].[DMCAPHOC]
    WHERE 
	 ([ID_CAPHOC] = @IdCaphoc OR @IdCaphoc is null)
	AND ([CAPHOC] = @Caphoc OR @Caphoc is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_CAPHOC]
	, [CAPHOC]
	, [GHICHU]
    FROM
	[dbo].[DMCAPHOC]
    WHERE 
	 ([ID_CAPHOC] = @IdCaphoc AND @IdCaphoc is not null)
	OR ([CAPHOC] = @Caphoc AND @Caphoc is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMCAPHOC_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCAPHOC table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CAPHOC] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_CAPHOC] )
				SELECT TOP {3} [ID_CAPHOC]
				FROM [dbo].[DMCAPHOC] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_CAPHOC], O.[CAPHOC], O.[GHICHU]
				FROM
				    [dbo].[DMCAPHOC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_CAPHOC] = PageIndex.[ID_CAPHOC]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMCAPHOC] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMDONVI_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMDONVI table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_DONVI],
					[MA_DONVI],
					[TEN_DONVI],
					[ID_DONVICHA],
					[GHICHU]
				FROM
					[dbo].[DMDONVI]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMDONVI_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMDONVI table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_DONVI] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_DONVI])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_DONVI]'
				SET @SQL = @SQL + ' FROM [dbo].[DMDONVI]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_DONVI], O.[MA_DONVI], O.[TEN_DONVI], O.[ID_DONVICHA], O.[GHICHU]
				FROM
				    [dbo].[DMDONVI] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_DONVI] = PageIndex.[ID_DONVI]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMDONVI]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMDONVI_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMDONVI table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDonvi" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@MaDonvi" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TenDonvi" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDonvicha" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMDONVI]
					(
					[MA_DONVI]
					,[TEN_DONVI]
					,[ID_DONVICHA]
					,[GHICHU]
					)
				VALUES
					(
					@MaDonvi
					,@TenDonvi
					,@IdDonvicha
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdDonvi = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDONVI_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMDONVI table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@MaDonvi" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TenDonvi" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDonvicha" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMDONVI]
				SET
					[MA_DONVI] = @MaDonvi
					,[TEN_DONVI] = @TenDonvi
					,[ID_DONVICHA] = @IdDonvicha
					,[GHICHU] = @Ghichu
				WHERE
[ID_DONVI] = @IdDonvi 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDONVI_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMDONVI table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMDONVI] WITH (ROWLOCK) 
				WHERE
					[ID_DONVI] = @IdDonvi
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDONVI_GetByIdDonvi" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMDONVI table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_DONVI],
					[MA_DONVI],
					[TEN_DONVI],
					[ID_DONVICHA],
					[GHICHU]
				FROM
					[dbo].[DMDONVI]
				WHERE
					[ID_DONVI] = @IdDonvi
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMDONVI_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMDONVI table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@MaDonvi" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@TenDonvi" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@IdDonvicha" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_DONVI]
	, [MA_DONVI]
	, [TEN_DONVI]
	, [ID_DONVICHA]
	, [GHICHU]
    FROM
	[dbo].[DMDONVI]
    WHERE 
	 ([ID_DONVI] = @IdDonvi OR @IdDonvi is null)
	AND ([MA_DONVI] = @MaDonvi OR @MaDonvi is null)
	AND ([TEN_DONVI] = @TenDonvi OR @TenDonvi is null)
	AND ([ID_DONVICHA] = @IdDonvicha OR @IdDonvicha is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_DONVI]
	, [MA_DONVI]
	, [TEN_DONVI]
	, [ID_DONVICHA]
	, [GHICHU]
    FROM
	[dbo].[DMDONVI]
    WHERE 
	 ([ID_DONVI] = @IdDonvi AND @IdDonvi is not null)
	OR ([MA_DONVI] = @MaDonvi AND @MaDonvi is not null)
	OR ([TEN_DONVI] = @TenDonvi AND @TenDonvi is not null)
	OR ([ID_DONVICHA] = @IdDonvicha AND @IdDonvicha is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMDONVI_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMDONVI table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_DONVI] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_DONVI] )
				SELECT TOP {3} [ID_DONVI]
				FROM [dbo].[DMDONVI] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_DONVI], O.[MA_DONVI], O.[TEN_DONVI], O.[ID_DONVICHA], O.[GHICHU]
				FROM
				    [dbo].[DMDONVI] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_DONVI] = PageIndex.[ID_DONVI]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMDONVI] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMDANTOC_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMDANTOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_DANTOC],
					[DANTOC],
					[GHICHU]
				FROM
					[dbo].[DMDANTOC]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMDANTOC_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMDANTOC table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_DANTOC] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_DANTOC])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_DANTOC]'
				SET @SQL = @SQL + ' FROM [dbo].[DMDANTOC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_DANTOC], O.[DANTOC], O.[GHICHU]
				FROM
				    [dbo].[DMDANTOC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_DANTOC] = PageIndex.[ID_DANTOC]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMDANTOC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMDANTOC_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMDANTOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDantoc" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Dantoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMDANTOC]
					(
					[DANTOC]
					,[GHICHU]
					)
				VALUES
					(
					@Dantoc
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdDantoc = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDANTOC_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMDANTOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Dantoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMDANTOC]
				SET
					[DANTOC] = @Dantoc
					,[GHICHU] = @Ghichu
				WHERE
[ID_DANTOC] = @IdDantoc 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDANTOC_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMDANTOC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMDANTOC] WITH (ROWLOCK) 
				WHERE
					[ID_DANTOC] = @IdDantoc
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMDANTOC_GetByIdDantoc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMDANTOC table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_DANTOC],
					[DANTOC],
					[GHICHU]
				FROM
					[dbo].[DMDANTOC]
				WHERE
					[ID_DANTOC] = @IdDantoc
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMDANTOC_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMDANTOC table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Dantoc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_DANTOC]
	, [DANTOC]
	, [GHICHU]
    FROM
	[dbo].[DMDANTOC]
    WHERE 
	 ([ID_DANTOC] = @IdDantoc OR @IdDantoc is null)
	AND ([DANTOC] = @Dantoc OR @Dantoc is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_DANTOC]
	, [DANTOC]
	, [GHICHU]
    FROM
	[dbo].[DMDANTOC]
    WHERE 
	 ([ID_DANTOC] = @IdDantoc AND @IdDantoc is not null)
	OR ([DANTOC] = @Dantoc AND @Dantoc is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMDANTOC_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMDANTOC table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_DANTOC] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_DANTOC] )
				SELECT TOP {3} [ID_DANTOC]
				FROM [dbo].[DMDANTOC] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_DANTOC], O.[DANTOC], O.[GHICHU]
				FROM
				    [dbo].[DMDANTOC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_DANTOC] = PageIndex.[ID_DANTOC]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMDANTOC] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCHUCVU_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_CHUCVU],
					[CHUCVU],
					[GHICHU]
				FROM
					[dbo].[DMCHUCVU]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCHUCVU_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCHUCVU table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CHUCVU] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_CHUCVU])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_CHUCVU]'
				SET @SQL = @SQL + ' FROM [dbo].[DMCHUCVU]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_CHUCVU], O.[CHUCVU], O.[GHICHU]
				FROM
				    [dbo].[DMCHUCVU] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_CHUCVU] = PageIndex.[ID_CHUCVU]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMCHUCVU]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMCHUCVU_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Chucvu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMCHUCVU]
					(
					[CHUCVU]
					,[GHICHU]
					)
				VALUES
					(
					@Chucvu
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdChucvu = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCHUCVU_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Chucvu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMCHUCVU]
				SET
					[CHUCVU] = @Chucvu
					,[GHICHU] = @Ghichu
				WHERE
[ID_CHUCVU] = @IdChucvu 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCHUCVU_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMCHUCVU table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMCHUCVU] WITH (ROWLOCK) 
				WHERE
					[ID_CHUCVU] = @IdChucvu
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCHUCVU_GetByIdChucvu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMCHUCVU table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_CHUCVU],
					[CHUCVU],
					[GHICHU]
				FROM
					[dbo].[DMCHUCVU]
				WHERE
					[ID_CHUCVU] = @IdChucvu
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMCHUCVU_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMCHUCVU table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Chucvu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_CHUCVU]
	, [CHUCVU]
	, [GHICHU]
    FROM
	[dbo].[DMCHUCVU]
    WHERE 
	 ([ID_CHUCVU] = @IdChucvu OR @IdChucvu is null)
	AND ([CHUCVU] = @Chucvu OR @Chucvu is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_CHUCVU]
	, [CHUCVU]
	, [GHICHU]
    FROM
	[dbo].[DMCHUCVU]
    WHERE 
	 ([ID_CHUCVU] = @IdChucvu AND @IdChucvu is not null)
	OR ([CHUCVU] = @Chucvu AND @Chucvu is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMCHUCVU_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCHUCVU table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CHUCVU] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_CHUCVU] )
				SELECT TOP {3} [ID_CHUCVU]
				FROM [dbo].[DMCHUCVU] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_CHUCVU], O.[CHUCVU], O.[GHICHU]
				FROM
				    [dbo].[DMCHUCVU] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_CHUCVU] = PageIndex.[ID_CHUCVU]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMCHUCVU] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCAPBAC_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the DMCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_CAPBAC],
					[CAPBAC],
					[GHICHU]
				FROM
					[dbo].[DMCAPBAC]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="DMCAPBAC_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCAPBAC table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CAPBAC] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_CAPBAC])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_CAPBAC]'
				SET @SQL = @SQL + ' FROM [dbo].[DMCAPBAC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_CAPBAC], O.[CAPBAC], O.[GHICHU]
				FROM
				    [dbo].[DMCAPBAC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_CAPBAC] = PageIndex.[ID_CAPBAC]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[DMCAPBAC]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="DMCAPBAC_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the DMCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Capbac" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[DMCAPBAC]
					(
					[CAPBAC]
					,[GHICHU]
					)
				VALUES
					(
					@Capbac
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdCapbac = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPBAC_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the DMCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Capbac" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[DMCAPBAC]
				SET
					[CAPBAC] = @Capbac
					,[GHICHU] = @Ghichu
				WHERE
[ID_CAPBAC] = @IdCapbac 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPBAC_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the DMCAPBAC table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[DMCAPBAC] WITH (ROWLOCK) 
				WHERE
					[ID_CAPBAC] = @IdCapbac
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="DMCAPBAC_GetByIdCapbac" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the DMCAPBAC table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_CAPBAC],
					[CAPBAC],
					[GHICHU]
				FROM
					[dbo].[DMCAPBAC]
				WHERE
					[ID_CAPBAC] = @IdCapbac
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="DMCAPBAC_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the DMCAPBAC table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Capbac" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_CAPBAC]
	, [CAPBAC]
	, [GHICHU]
    FROM
	[dbo].[DMCAPBAC]
    WHERE 
	 ([ID_CAPBAC] = @IdCapbac OR @IdCapbac is null)
	AND ([CAPBAC] = @Capbac OR @Capbac is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_CAPBAC]
	, [CAPBAC]
	, [GHICHU]
    FROM
	[dbo].[DMCAPBAC]
    WHERE 
	 ([ID_CAPBAC] = @IdCapbac AND @IdCapbac is not null)
	OR ([CAPBAC] = @Capbac AND @Capbac is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="DMCAPBAC_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the DMCAPBAC table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_CAPBAC] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_CAPBAC] )
				SELECT TOP {3} [ID_CAPBAC]
				FROM [dbo].[DMCAPBAC] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_CAPBAC], O.[CAPBAC], O.[GHICHU]
				FROM
				    [dbo].[DMCAPBAC] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_CAPBAC] = PageIndex.[ID_CAPBAC]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[DMCAPBAC] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="QUANNHAN_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the QUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="QUANNHAN_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the QUANNHAN table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_QUANNHAN] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_QUANNHAN])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_QUANNHAN]'
				SET @SQL = @SQL + ' FROM [dbo].[QUANNHAN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_QUANNHAN], O.[MA_QUANNHAN], O.[HOTEN_KHAISINH], O.[HOTEN_THUONGDUNG], O.[SOTHE_QUANNHAN], O.[CMT_QUANNHAN], O.[ANH_QUANNHAN], O.[NGAYSINH], O.[NGUYENQUAN], O.[SINHQUAN], O.[TRUQUAN], O.[DC_BAOTIN], O.[HOTEN_CHA], O.[HOTEN_ME], O.[HOTEN_VO(CHONG)], O.[SO_ANHCHIEM], O.[SOCON], O.[ID_CAPBAC], O.[ID_CHUCVU], O.[CNQS], O.[BACKYTHUAT], O.[TRINHDO_VANHOA], O.[SUCKHOE], O.[NGOAINGU], O.[HANG_THUONGTAT], O.[TP_GIADINH], O.[TP_BANTHAN], O.[ID_DANTOC], O.[ID_TONGIAO], O.[ID_GIOITINH], O.[NGAY_NHAPNGU], O.[NGAY_XUATNGU], O.[NGAY_TAINGU], O.[NGAY_VAODOAN], O.[NGAY_VAODANG], O.[NGAYVAODANG_CHINHTHUC], O.[NGAYCAPTHE_QN], O.[NGAYCHUYEN_QNCN], O.[NGAYCHUYEN_CNV], O.[ID_DONVI], O.[ID_LOP], O.[ID_LOAIQUANNHAN], O.[TRANGTHAI], O.[GHICHU]
				FROM
				    [dbo].[QUANNHAN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_QUANNHAN] = PageIndex.[ID_QUANNHAN]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[QUANNHAN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="QUANNHAN_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the QUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@MaQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenKhaisinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenThuongdung" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SotheQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CmtQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@AnhQuannhan" type="binary" direction="Input" size="5000" precision="0" scale="0" param="(5000)" nulldefault=""/>
				<parameter name="@Ngaysinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Nguyenquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Sinhquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Truquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@DcBaotin" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@HotenCha" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenMe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SafeNameHotenVoChong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SoAnhchiem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Socon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Cnqs" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Backythuat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TrinhdoVanhoa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Suckhoe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ngoaingu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HangThuongtat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TpGiadinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TpBanthan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayNhapngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayXuatngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayTaingu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayVaodoan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayVaodang" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayvaodangChinhthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaycaptheQn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaychuyenQncn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaychuyenCnv" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiquannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Trangthai" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[QUANNHAN]
					(
					[MA_QUANNHAN]
					,[HOTEN_KHAISINH]
					,[HOTEN_THUONGDUNG]
					,[SOTHE_QUANNHAN]
					,[CMT_QUANNHAN]
					,[ANH_QUANNHAN]
					,[NGAYSINH]
					,[NGUYENQUAN]
					,[SINHQUAN]
					,[TRUQUAN]
					,[DC_BAOTIN]
					,[HOTEN_CHA]
					,[HOTEN_ME]
					,[HOTEN_VO(CHONG)]
					,[SO_ANHCHIEM]
					,[SOCON]
					,[ID_CAPBAC]
					,[ID_CHUCVU]
					,[CNQS]
					,[BACKYTHUAT]
					,[TRINHDO_VANHOA]
					,[SUCKHOE]
					,[NGOAINGU]
					,[HANG_THUONGTAT]
					,[TP_GIADINH]
					,[TP_BANTHAN]
					,[ID_DANTOC]
					,[ID_TONGIAO]
					,[ID_GIOITINH]
					,[NGAY_NHAPNGU]
					,[NGAY_XUATNGU]
					,[NGAY_TAINGU]
					,[NGAY_VAODOAN]
					,[NGAY_VAODANG]
					,[NGAYVAODANG_CHINHTHUC]
					,[NGAYCAPTHE_QN]
					,[NGAYCHUYEN_QNCN]
					,[NGAYCHUYEN_CNV]
					,[ID_DONVI]
					,[ID_LOP]
					,[ID_LOAIQUANNHAN]
					,[TRANGTHAI]
					,[GHICHU]
					)
				VALUES
					(
					@MaQuannhan
					,@HotenKhaisinh
					,@HotenThuongdung
					,@SotheQuannhan
					,@CmtQuannhan
					,@AnhQuannhan
					,@Ngaysinh
					,@Nguyenquan
					,@Sinhquan
					,@Truquan
					,@DcBaotin
					,@HotenCha
					,@HotenMe
					,@SafeNameHotenVoChong
					,@SoAnhchiem
					,@Socon
					,@IdCapbac
					,@IdChucvu
					,@Cnqs
					,@Backythuat
					,@TrinhdoVanhoa
					,@Suckhoe
					,@Ngoaingu
					,@HangThuongtat
					,@TpGiadinh
					,@TpBanthan
					,@IdDantoc
					,@IdTongiao
					,@IdGioitinh
					,@NgayNhapngu
					,@NgayXuatngu
					,@NgayTaingu
					,@NgayVaodoan
					,@NgayVaodang
					,@NgayvaodangChinhthuc
					,@NgaycaptheQn
					,@NgaychuyenQncn
					,@NgaychuyenCnv
					,@IdDonvi
					,@IdLop
					,@IdLoaiquannhan
					,@Trangthai
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdQuannhan = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the QUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@MaQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenKhaisinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenThuongdung" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SotheQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CmtQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@AnhQuannhan" type="binary" direction="Input" size="5000" precision="0" scale="0" param="(5000)" nulldefault=""/>
				<parameter name="@Ngaysinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Nguyenquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Sinhquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Truquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@DcBaotin" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@HotenCha" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HotenMe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SafeNameHotenVoChong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@SoAnhchiem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Socon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Cnqs" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Backythuat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TrinhdoVanhoa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Suckhoe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ngoaingu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HangThuongtat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TpGiadinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TpBanthan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayNhapngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayXuatngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayTaingu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayVaodoan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayVaodang" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgayvaodangChinhthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaycaptheQn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaychuyenQncn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@NgaychuyenCnv" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiquannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Trangthai" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[QUANNHAN]
				SET
					[MA_QUANNHAN] = @MaQuannhan
					,[HOTEN_KHAISINH] = @HotenKhaisinh
					,[HOTEN_THUONGDUNG] = @HotenThuongdung
					,[SOTHE_QUANNHAN] = @SotheQuannhan
					,[CMT_QUANNHAN] = @CmtQuannhan
					,[ANH_QUANNHAN] = @AnhQuannhan
					,[NGAYSINH] = @Ngaysinh
					,[NGUYENQUAN] = @Nguyenquan
					,[SINHQUAN] = @Sinhquan
					,[TRUQUAN] = @Truquan
					,[DC_BAOTIN] = @DcBaotin
					,[HOTEN_CHA] = @HotenCha
					,[HOTEN_ME] = @HotenMe
					,[HOTEN_VO(CHONG)] = @SafeNameHotenVoChong
					,[SO_ANHCHIEM] = @SoAnhchiem
					,[SOCON] = @Socon
					,[ID_CAPBAC] = @IdCapbac
					,[ID_CHUCVU] = @IdChucvu
					,[CNQS] = @Cnqs
					,[BACKYTHUAT] = @Backythuat
					,[TRINHDO_VANHOA] = @TrinhdoVanhoa
					,[SUCKHOE] = @Suckhoe
					,[NGOAINGU] = @Ngoaingu
					,[HANG_THUONGTAT] = @HangThuongtat
					,[TP_GIADINH] = @TpGiadinh
					,[TP_BANTHAN] = @TpBanthan
					,[ID_DANTOC] = @IdDantoc
					,[ID_TONGIAO] = @IdTongiao
					,[ID_GIOITINH] = @IdGioitinh
					,[NGAY_NHAPNGU] = @NgayNhapngu
					,[NGAY_XUATNGU] = @NgayXuatngu
					,[NGAY_TAINGU] = @NgayTaingu
					,[NGAY_VAODOAN] = @NgayVaodoan
					,[NGAY_VAODANG] = @NgayVaodang
					,[NGAYVAODANG_CHINHTHUC] = @NgayvaodangChinhthuc
					,[NGAYCAPTHE_QN] = @NgaycaptheQn
					,[NGAYCHUYEN_QNCN] = @NgaychuyenQncn
					,[NGAYCHUYEN_CNV] = @NgaychuyenCnv
					,[ID_DONVI] = @IdDonvi
					,[ID_LOP] = @IdLop
					,[ID_LOAIQUANNHAN] = @IdLoaiquannhan
					,[TRANGTHAI] = @Trangthai
					,[GHICHU] = @Ghichu
				WHERE
[ID_QUANNHAN] = @IdQuannhan 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the QUANNHAN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[QUANNHAN] WITH (ROWLOCK) 
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdGioitinh" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_GIOITINH] = @IdGioitinh
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdLoaiquannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiquannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_LOAIQUANNHAN] = @IdLoaiquannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdDantoc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_DANTOC] = @IdDantoc
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdTongiao" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_TONGIAO] = @IdTongiao
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdDonvi" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_DONVI] = @IdDonvi
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdCapbac" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_CAPBAC] = @IdCapbac
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdChucvu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_CHUCVU] = @IdChucvu
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdLop" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_LOP] = @IdLop
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the QUANNHAN table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_QUANNHAN],
					[MA_QUANNHAN],
					[HOTEN_KHAISINH],
					[HOTEN_THUONGDUNG],
					[SOTHE_QUANNHAN],
					[CMT_QUANNHAN],
					[ANH_QUANNHAN],
					[NGAYSINH],
					[NGUYENQUAN],
					[SINHQUAN],
					[TRUQUAN],
					[DC_BAOTIN],
					[HOTEN_CHA],
					[HOTEN_ME],
					[HOTEN_VO(CHONG)],
					[SO_ANHCHIEM],
					[SOCON],
					[ID_CAPBAC],
					[ID_CHUCVU],
					[CNQS],
					[BACKYTHUAT],
					[TRINHDO_VANHOA],
					[SUCKHOE],
					[NGOAINGU],
					[HANG_THUONGTAT],
					[TP_GIADINH],
					[TP_BANTHAN],
					[ID_DANTOC],
					[ID_TONGIAO],
					[ID_GIOITINH],
					[NGAY_NHAPNGU],
					[NGAY_XUATNGU],
					[NGAY_TAINGU],
					[NGAY_VAODOAN],
					[NGAY_VAODANG],
					[NGAYVAODANG_CHINHTHUC],
					[NGAYCAPTHE_QN],
					[NGAYCHUYEN_QNCN],
					[NGAYCHUYEN_CNV],
					[ID_DONVI],
					[ID_LOP],
					[ID_LOAIQUANNHAN],
					[TRANGTHAI],
					[GHICHU]
				FROM
					[dbo].[QUANNHAN]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="QUANNHAN_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the QUANNHAN table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@MaQuannhan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HotenKhaisinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HotenThuongdung" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@SotheQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@CmtQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@AnhQuannhan" type="binary" direction="Input" size="5000" precision="0" scale="0" param="(5000)" nulldefault="null"/>
				<parameter name="@Ngaysinh" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Nguyenquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@Sinhquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@Truquan" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@DcBaotin" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@HotenCha" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HotenMe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@SafeNameHotenVoChong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@SoAnhchiem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Socon" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCapbac" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdChucvu" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Cnqs" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Backythuat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@TrinhdoVanhoa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Suckhoe" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ngoaingu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HangThuongtat" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@TpGiadinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@TpBanthan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@IdDantoc" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTongiao" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdGioitinh" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayNhapngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayXuatngu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayTaingu" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayVaodoan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayVaodang" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgayvaodangChinhthuc" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgaycaptheQn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgaychuyenQncn" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@NgaychuyenCnv" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDonvi" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLop" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLoaiquannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Trangthai" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_QUANNHAN]
	, [MA_QUANNHAN]
	, [HOTEN_KHAISINH]
	, [HOTEN_THUONGDUNG]
	, [SOTHE_QUANNHAN]
	, [CMT_QUANNHAN]
	, [ANH_QUANNHAN]
	, [NGAYSINH]
	, [NGUYENQUAN]
	, [SINHQUAN]
	, [TRUQUAN]
	, [DC_BAOTIN]
	, [HOTEN_CHA]
	, [HOTEN_ME]
	, [HOTEN_VO(CHONG)]
	, [SO_ANHCHIEM]
	, [SOCON]
	, [ID_CAPBAC]
	, [ID_CHUCVU]
	, [CNQS]
	, [BACKYTHUAT]
	, [TRINHDO_VANHOA]
	, [SUCKHOE]
	, [NGOAINGU]
	, [HANG_THUONGTAT]
	, [TP_GIADINH]
	, [TP_BANTHAN]
	, [ID_DANTOC]
	, [ID_TONGIAO]
	, [ID_GIOITINH]
	, [NGAY_NHAPNGU]
	, [NGAY_XUATNGU]
	, [NGAY_TAINGU]
	, [NGAY_VAODOAN]
	, [NGAY_VAODANG]
	, [NGAYVAODANG_CHINHTHUC]
	, [NGAYCAPTHE_QN]
	, [NGAYCHUYEN_QNCN]
	, [NGAYCHUYEN_CNV]
	, [ID_DONVI]
	, [ID_LOP]
	, [ID_LOAIQUANNHAN]
	, [TRANGTHAI]
	, [GHICHU]
    FROM
	[dbo].[QUANNHAN]
    WHERE 
	 ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([MA_QUANNHAN] = @MaQuannhan OR @MaQuannhan is null)
	AND ([HOTEN_KHAISINH] = @HotenKhaisinh OR @HotenKhaisinh is null)
	AND ([HOTEN_THUONGDUNG] = @HotenThuongdung OR @HotenThuongdung is null)
	AND ([SOTHE_QUANNHAN] = @SotheQuannhan OR @SotheQuannhan is null)
	AND ([CMT_QUANNHAN] = @CmtQuannhan OR @CmtQuannhan is null)
	AND ([NGAYSINH] = @Ngaysinh OR @Ngaysinh is null)
	AND ([HOTEN_CHA] = @HotenCha OR @HotenCha is null)
	AND ([HOTEN_ME] = @HotenMe OR @HotenMe is null)
	AND ([HOTEN_VO(CHONG)] = @SafeNameHotenVoChong OR @SafeNameHotenVoChong is null)
	AND ([SO_ANHCHIEM] = @SoAnhchiem OR @SoAnhchiem is null)
	AND ([SOCON] = @Socon OR @Socon is null)
	AND ([ID_CAPBAC] = @IdCapbac OR @IdCapbac is null)
	AND ([ID_CHUCVU] = @IdChucvu OR @IdChucvu is null)
	AND ([CNQS] = @Cnqs OR @Cnqs is null)
	AND ([BACKYTHUAT] = @Backythuat OR @Backythuat is null)
	AND ([TRINHDO_VANHOA] = @TrinhdoVanhoa OR @TrinhdoVanhoa is null)
	AND ([SUCKHOE] = @Suckhoe OR @Suckhoe is null)
	AND ([NGOAINGU] = @Ngoaingu OR @Ngoaingu is null)
	AND ([HANG_THUONGTAT] = @HangThuongtat OR @HangThuongtat is null)
	AND ([TP_GIADINH] = @TpGiadinh OR @TpGiadinh is null)
	AND ([TP_BANTHAN] = @TpBanthan OR @TpBanthan is null)
	AND ([ID_DANTOC] = @IdDantoc OR @IdDantoc is null)
	AND ([ID_TONGIAO] = @IdTongiao OR @IdTongiao is null)
	AND ([ID_GIOITINH] = @IdGioitinh OR @IdGioitinh is null)
	AND ([NGAY_NHAPNGU] = @NgayNhapngu OR @NgayNhapngu is null)
	AND ([NGAY_XUATNGU] = @NgayXuatngu OR @NgayXuatngu is null)
	AND ([NGAY_TAINGU] = @NgayTaingu OR @NgayTaingu is null)
	AND ([NGAY_VAODOAN] = @NgayVaodoan OR @NgayVaodoan is null)
	AND ([NGAY_VAODANG] = @NgayVaodang OR @NgayVaodang is null)
	AND ([NGAYVAODANG_CHINHTHUC] = @NgayvaodangChinhthuc OR @NgayvaodangChinhthuc is null)
	AND ([NGAYCAPTHE_QN] = @NgaycaptheQn OR @NgaycaptheQn is null)
	AND ([NGAYCHUYEN_QNCN] = @NgaychuyenQncn OR @NgaychuyenQncn is null)
	AND ([NGAYCHUYEN_CNV] = @NgaychuyenCnv OR @NgaychuyenCnv is null)
	AND ([ID_DONVI] = @IdDonvi OR @IdDonvi is null)
	AND ([ID_LOP] = @IdLop OR @IdLop is null)
	AND ([ID_LOAIQUANNHAN] = @IdLoaiquannhan OR @IdLoaiquannhan is null)
	AND ([TRANGTHAI] = @Trangthai OR @Trangthai is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_QUANNHAN]
	, [MA_QUANNHAN]
	, [HOTEN_KHAISINH]
	, [HOTEN_THUONGDUNG]
	, [SOTHE_QUANNHAN]
	, [CMT_QUANNHAN]
	, [ANH_QUANNHAN]
	, [NGAYSINH]
	, [NGUYENQUAN]
	, [SINHQUAN]
	, [TRUQUAN]
	, [DC_BAOTIN]
	, [HOTEN_CHA]
	, [HOTEN_ME]
	, [HOTEN_VO(CHONG)]
	, [SO_ANHCHIEM]
	, [SOCON]
	, [ID_CAPBAC]
	, [ID_CHUCVU]
	, [CNQS]
	, [BACKYTHUAT]
	, [TRINHDO_VANHOA]
	, [SUCKHOE]
	, [NGOAINGU]
	, [HANG_THUONGTAT]
	, [TP_GIADINH]
	, [TP_BANTHAN]
	, [ID_DANTOC]
	, [ID_TONGIAO]
	, [ID_GIOITINH]
	, [NGAY_NHAPNGU]
	, [NGAY_XUATNGU]
	, [NGAY_TAINGU]
	, [NGAY_VAODOAN]
	, [NGAY_VAODANG]
	, [NGAYVAODANG_CHINHTHUC]
	, [NGAYCAPTHE_QN]
	, [NGAYCHUYEN_QNCN]
	, [NGAYCHUYEN_CNV]
	, [ID_DONVI]
	, [ID_LOP]
	, [ID_LOAIQUANNHAN]
	, [TRANGTHAI]
	, [GHICHU]
    FROM
	[dbo].[QUANNHAN]
    WHERE 
	 ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([MA_QUANNHAN] = @MaQuannhan AND @MaQuannhan is not null)
	OR ([HOTEN_KHAISINH] = @HotenKhaisinh AND @HotenKhaisinh is not null)
	OR ([HOTEN_THUONGDUNG] = @HotenThuongdung AND @HotenThuongdung is not null)
	OR ([SOTHE_QUANNHAN] = @SotheQuannhan AND @SotheQuannhan is not null)
	OR ([CMT_QUANNHAN] = @CmtQuannhan AND @CmtQuannhan is not null)
	OR ([NGAYSINH] = @Ngaysinh AND @Ngaysinh is not null)
	OR ([HOTEN_CHA] = @HotenCha AND @HotenCha is not null)
	OR ([HOTEN_ME] = @HotenMe AND @HotenMe is not null)
	OR ([HOTEN_VO(CHONG)] = @SafeNameHotenVoChong AND @SafeNameHotenVoChong is not null)
	OR ([SO_ANHCHIEM] = @SoAnhchiem AND @SoAnhchiem is not null)
	OR ([SOCON] = @Socon AND @Socon is not null)
	OR ([ID_CAPBAC] = @IdCapbac AND @IdCapbac is not null)
	OR ([ID_CHUCVU] = @IdChucvu AND @IdChucvu is not null)
	OR ([CNQS] = @Cnqs AND @Cnqs is not null)
	OR ([BACKYTHUAT] = @Backythuat AND @Backythuat is not null)
	OR ([TRINHDO_VANHOA] = @TrinhdoVanhoa AND @TrinhdoVanhoa is not null)
	OR ([SUCKHOE] = @Suckhoe AND @Suckhoe is not null)
	OR ([NGOAINGU] = @Ngoaingu AND @Ngoaingu is not null)
	OR ([HANG_THUONGTAT] = @HangThuongtat AND @HangThuongtat is not null)
	OR ([TP_GIADINH] = @TpGiadinh AND @TpGiadinh is not null)
	OR ([TP_BANTHAN] = @TpBanthan AND @TpBanthan is not null)
	OR ([ID_DANTOC] = @IdDantoc AND @IdDantoc is not null)
	OR ([ID_TONGIAO] = @IdTongiao AND @IdTongiao is not null)
	OR ([ID_GIOITINH] = @IdGioitinh AND @IdGioitinh is not null)
	OR ([NGAY_NHAPNGU] = @NgayNhapngu AND @NgayNhapngu is not null)
	OR ([NGAY_XUATNGU] = @NgayXuatngu AND @NgayXuatngu is not null)
	OR ([NGAY_TAINGU] = @NgayTaingu AND @NgayTaingu is not null)
	OR ([NGAY_VAODOAN] = @NgayVaodoan AND @NgayVaodoan is not null)
	OR ([NGAY_VAODANG] = @NgayVaodang AND @NgayVaodang is not null)
	OR ([NGAYVAODANG_CHINHTHUC] = @NgayvaodangChinhthuc AND @NgayvaodangChinhthuc is not null)
	OR ([NGAYCAPTHE_QN] = @NgaycaptheQn AND @NgaycaptheQn is not null)
	OR ([NGAYCHUYEN_QNCN] = @NgaychuyenQncn AND @NgaychuyenQncn is not null)
	OR ([NGAYCHUYEN_CNV] = @NgaychuyenCnv AND @NgaychuyenCnv is not null)
	OR ([ID_DONVI] = @IdDonvi AND @IdDonvi is not null)
	OR ([ID_LOP] = @IdLop AND @IdLop is not null)
	OR ([ID_LOAIQUANNHAN] = @IdLoaiquannhan AND @IdLoaiquannhan is not null)
	OR ([TRANGTHAI] = @Trangthai AND @Trangthai is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="QUANNHAN_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the QUANNHAN table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_QUANNHAN] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_QUANNHAN] )
				SELECT TOP {3} [ID_QUANNHAN]
				FROM [dbo].[QUANNHAN] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_QUANNHAN], O.[MA_QUANNHAN], O.[HOTEN_KHAISINH], O.[HOTEN_THUONGDUNG], O.[SOTHE_QUANNHAN], O.[CMT_QUANNHAN], O.[ANH_QUANNHAN], O.[NGAYSINH], O.[NGUYENQUAN], O.[SINHQUAN], O.[TRUQUAN], O.[DC_BAOTIN], O.[HOTEN_CHA], O.[HOTEN_ME], O.[HOTEN_VO(CHONG)], O.[SO_ANHCHIEM], O.[SOCON], O.[ID_CAPBAC], O.[ID_CHUCVU], O.[CNQS], O.[BACKYTHUAT], O.[TRINHDO_VANHOA], O.[SUCKHOE], O.[NGOAINGU], O.[HANG_THUONGTAT], O.[TP_GIADINH], O.[TP_BANTHAN], O.[ID_DANTOC], O.[ID_TONGIAO], O.[ID_GIOITINH], O.[NGAY_NHAPNGU], O.[NGAY_XUATNGU], O.[NGAY_TAINGU], O.[NGAY_VAODOAN], O.[NGAY_VAODANG], O.[NGAYVAODANG_CHINHTHUC], O.[NGAYCAPTHE_QN], O.[NGAYCHUYEN_QNCN], O.[NGAYCHUYEN_CNV], O.[ID_DONVI], O.[ID_LOP], O.[ID_LOAIQUANNHAN], O.[TRANGTHAI], O.[GHICHU]
				FROM
				    [dbo].[QUANNHAN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_QUANNHAN] = PageIndex.[ID_QUANNHAN]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[QUANNHAN] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSKHENTHUONG_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the LSKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID_LICHSUKHENTHUONG],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KHENTHUONG],
					[CAP_KHENTHUONG],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSKHENTHUONG]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="LSKHENTHUONG_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSKHENTHUONG table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUKHENTHUONG] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID_LICHSUKHENTHUONG])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [ID_LICHSUKHENTHUONG]'
				SET @SQL = @SQL + ' FROM [dbo].[LSKHENTHUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[ID_LICHSUKHENTHUONG], O.[ID_QUANNHAN], O.[ID_HINHTHUC_KHENTHUONG], O.[CAP_KHENTHUONG], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSKHENTHUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID_LICHSUKHENTHUONG] = PageIndex.[ID_LICHSUKHENTHUONG]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[LSKHENTHUONG]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="LSKHENTHUONG_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the LSKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukhenthuong" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CapKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[LSKHENTHUONG]
					(
					[ID_QUANNHAN]
					,[ID_HINHTHUC_KHENTHUONG]
					,[CAP_KHENTHUONG]
					,[NGAYNHAN]
					,[GHICHU]
					)
				VALUES
					(
					@IdQuannhan
					,@IdHinhthucKhenthuong
					,@CapKhenthuong
					,@Ngaynhan
					,@Ghichu
					)
				
				-- Get the identity value
				SET @IdLichsukhenthuong = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the LSKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukhenthuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CapKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault=""/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[LSKHENTHUONG]
				SET
					[ID_QUANNHAN] = @IdQuannhan
					,[ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong
					,[CAP_KHENTHUONG] = @CapKhenthuong
					,[NGAYNHAN] = @Ngaynhan
					,[GHICHU] = @Ghichu
				WHERE
[ID_LICHSUKHENTHUONG] = @IdLichsukhenthuong 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the LSKHENTHUONG table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukhenthuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[LSKHENTHUONG] WITH (ROWLOCK) 
				WHERE
					[ID_LICHSUKHENTHUONG] = @IdLichsukhenthuong
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_GetByIdQuannhan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKHENTHUONG table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUKHENTHUONG],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KHENTHUONG],
					[CAP_KHENTHUONG],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSKHENTHUONG]
				WHERE
					[ID_QUANNHAN] = @IdQuannhan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_GetByIdHinhthucKhenthuong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKHENTHUONG table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[ID_LICHSUKHENTHUONG],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KHENTHUONG],
					[CAP_KHENTHUONG],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSKHENTHUONG]
				WHERE
					[ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_GetByIdLichsukhenthuong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the LSKHENTHUONG table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLichsukhenthuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID_LICHSUKHENTHUONG],
					[ID_QUANNHAN],
					[ID_HINHTHUC_KHENTHUONG],
					[CAP_KHENTHUONG],
					[NGAYNHAN],
					[GHICHU]
				FROM
					[dbo].[LSKHENTHUONG]
				WHERE
					[ID_LICHSUKHENTHUONG] = @IdLichsukhenthuong
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="LSKHENTHUONG_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the LSKHENTHUONG table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLichsukhenthuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuannhan" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdHinhthucKhenthuong" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@CapKhenthuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Ngaynhan" type="smalldatetime" direction="Input" size="4" precision="16" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ghichu" type="ntext" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID_LICHSUKHENTHUONG]
	, [ID_QUANNHAN]
	, [ID_HINHTHUC_KHENTHUONG]
	, [CAP_KHENTHUONG]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSKHENTHUONG]
    WHERE 
	 ([ID_LICHSUKHENTHUONG] = @IdLichsukhenthuong OR @IdLichsukhenthuong is null)
	AND ([ID_QUANNHAN] = @IdQuannhan OR @IdQuannhan is null)
	AND ([ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong OR @IdHinhthucKhenthuong is null)
	AND ([CAP_KHENTHUONG] = @CapKhenthuong OR @CapKhenthuong is null)
	AND ([NGAYNHAN] = @Ngaynhan OR @Ngaynhan is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID_LICHSUKHENTHUONG]
	, [ID_QUANNHAN]
	, [ID_HINHTHUC_KHENTHUONG]
	, [CAP_KHENTHUONG]
	, [NGAYNHAN]
	, [GHICHU]
    FROM
	[dbo].[LSKHENTHUONG]
    WHERE 
	 ([ID_LICHSUKHENTHUONG] = @IdLichsukhenthuong AND @IdLichsukhenthuong is not null)
	OR ([ID_QUANNHAN] = @IdQuannhan AND @IdQuannhan is not null)
	OR ([ID_HINHTHUC_KHENTHUONG] = @IdHinhthucKhenthuong AND @IdHinhthucKhenthuong is not null)
	OR ([CAP_KHENTHUONG] = @CapKhenthuong AND @CapKhenthuong is not null)
	OR ([NGAYNHAN] = @Ngaynhan AND @Ngaynhan is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="LSKHENTHUONG_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the LSKHENTHUONG table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID_LICHSUKHENTHUONG] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID_LICHSUKHENTHUONG] )
				SELECT TOP {3} [ID_LICHSUKHENTHUONG]
				FROM [dbo].[LSKHENTHUONG] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID_LICHSUKHENTHUONG], O.[ID_QUANNHAN], O.[ID_HINHTHUC_KHENTHUONG], O.[CAP_KHENTHUONG], O.[NGAYNHAN], O.[GHICHU]
				FROM
				    [dbo].[LSKHENTHUONG] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID_LICHSUKHENTHUONG] = PageIndex.[ID_LICHSUKHENTHUONG]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[LSKHENTHUONG] {0};
			
				END
			]]></body>
		</procedure>
		
</procedures>
</root>
